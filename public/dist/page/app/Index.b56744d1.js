(self.webpackChunkcrazy_demo=self.webpackChunkcrazy_demo||[]).push([[435],{1244:(t,e,s)=>{var n=s(3633);t.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(t,e,s,n,i){return'<div id="crazy-root" descriptive-id="" class="screen-fit screen-flex screen-center dark-mode-blue-grey darken-4-dark-mode light-mode-white">\n    <loading-screen-btn></loading-screen-btn>\n</div>'},useData:!0})},9968:(t,e,s)=>{"use strict";var n=s(2958);const i=s(1244);class r extends n.JU{constructor(){super(),this.onReady=()=>{let t=n.YN.getNavigatorLanguage();new n.Tv({name:"Home",arguments:{language:t}})},this.onReady()}}r.className="Index",r.html=i,r.css=null,window.Crazyobject.register(r)},2958:(t,e,s)=>{"use strict";s.d(e,{$N:()=>g,YN:()=>X,Dd:()=>ft,JU:()=>G,pL:()=>st,lV:()=>jt,Tv:()=>x});class n{}n.check=t=>{let e=!1;const s=t.trim(),n=s.startsWith("{")&&s.endsWith("}"),i=s.startsWith("[")&&s.endsWith("]"),r=n&&s.includes(":"),o=i&&s.includes(","),a=s.length>2;return e=n&&r&&a||i&&o&&a,e},n.encode=t=>{let e="";return null===t?e="None":"boolean"==typeof t?e=t?"True":"False":"number"==typeof t?e=JSON.stringify(e):"string"==typeof t?e=`'${t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`:Array.isArray(t)?e=`[${t.map((t=>n.encode(t))).join(", ")}]`:"object"==typeof t&&(e=`{${Object.entries(t).map((([t,e])=>{const s=t.replace(/\\/g,"\\\\").replace(/'/g,"\\'");return`${"string"==typeof s?`'${s}'`:s}: ${n.encode(e)}`})).join(", ")}}`),e},n.decode=t=>{let e="";if(n.check(t)){let s=t.replace(/\\'/g,"@@@@@@@@");s=s.replace(/'[^']*\"[^']*'/g,(t=>t.replace(/"/g,'\\"')));let n=s.replace(/([{,]\s*)'([^']+)':\s*'([^']*)'/g,'$1"$2": "$3"').replace(/([{,]\s*)'([^']+)':\s*([^'{][^,]*)/g,'$1"$2": $3').replace(/'/g,'"').replace(/\\\\/g,"\\\\");n=n.replace(/@@@@@@@@/g,"'"),n=n.replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false"),e=JSON.parse(n)}return e};class i{}i.toUTCString=t=>{const e=t=>t<10?"0"+t:t;return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+" "+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+" UTC"},i.toISOString=t=>{const e=t=>t<10?"0"+t:t;return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},i.toYYYYMMDDFormat=(t,e="/")=>`${t.getFullYear()}${e}${String(t.getMonth()+1).padStart(2,"0")}${e}${String(t.getDate()).padStart(2,"0")}`,i.getNextDay=t=>{if(t<1||t>7)throw new Error("Invalid weekday number. Please enter a number between 1 (Monday) and 7 (Sunday).");const e=new Date,s=(t-e.getUTCDay()+7)%7;return e.setUTCDate(e.getUTCDate()+s),`${e.getUTCFullYear()}/${(e.getUTCMonth()+1).toString().padStart(2,"0")}/${e.getUTCDate().toString().padStart(2,"0")}`},i.getTodayDateYYMMDD=()=>{const t=new Date;return`${t.getFullYear().toString().slice(-2)}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}`},i.getTodayDateYYYYMMDD=()=>{const t=new Date;return`${t.getFullYear().toString()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}`},i.getTodayDateYYYY_MM_DD=()=>{const t=new Date;return`${t.getFullYear().toString()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`},i.convertDateFormat=t=>{let e="";if(!t)return e;const s=new Date(t);return e=`${s.getMonth()+1}/${s.getDate()}/${s.getFullYear()}`,e},i.getTodayDate=(t="-")=>{const e=new Date;return`${e.getFullYear()}${t}${(e.getMonth()+1).toString().padStart(2,"0")}${t}${e.getDate().toString().padStart(2,"0")}`},i.getFirstDateOfWeek=(t,e="YYYY-MM-DD")=>{const s=new Date,n=(s.getDay()+6)%7,r=new Date(s);r.setDate(s.getDate()-n);const o=new Date(r);return o.setDate(r.getDate()+7*t),i.formatDate(o,e)},i.isDateInCurrentWeek=t=>{"string"==typeof t&&(t=new Date(t));const e=new Date,s=e.getDay(),n=new Date(e),i=new Date(e);return n.setDate(e.getDate()-(0===s?6:s-1)),i.setDate(n.getDate()+6),n.setHours(0,0,0,0),i.setHours(23,59,59,999),t>=n&&t<=i},i.isDateInNextWeek=t=>{"string"==typeof t&&(t=new Date(t));const e=new Date,s=e.getDay(),n=new Date(e),i=new Date(e);return n.setDate(e.getDate()+(0===s?1:8-s)),i.setDate(n.getDate()+6),n.setHours(0,0,0,0),i.setHours(23,59,59,999),t>=n&&t<=i},i.isValidDate=t=>!isNaN(Date.parse(t)),i.formatDate=(t,e)=>{const s=t.getFullYear(),n=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2);switch(e){case"YYYY-MM-DD":return`${s}-${n}-${i}`;case"MM/DD/YY":return`${n}/${i}/${s.toString().slice(-2)}`;case"DD/MM/YYYY":return`${i}/${n}/${s}`;default:throw new Error("Unsupported date format")}},i.getAllDaysBetween=(t,e)=>{const s=[],n=t=>(t.setHours(0,0,0,0),t);let i=n(new Date(t));const r=n(new Date(e));for(;i<=r;)s.push(new Date(i)),i.setDate(i.getDate()+1);return s},i.isWeekend=t=>{const e=t.getDay();return 0===e||6===e};class r{constructor(){let t=r.getTheme();"loading"!==document.readyState?r.setTheme(t):document.addEventListener("DOMContentLoaded",(()=>{r.setTheme(t)})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>t.matches&&r.setTheme(r.get()))),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",(t=>t.matches&&r.setTheme(r.get())))}}r.get=()=>{var t,e,s;return(null===(t=window.Crazyobject)||void 0===t?void 0:t.forcedTheme)?window.Crazyobject.forcedTheme:(null===(s=null===(e=null===window||void 0===window?void 0:window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme:dark)"))||void 0===s?void 0:s.matches)?"dark":"light"},r.setTheme=(t,e=!1)=>{document.documentElement.setAttribute("theme",t),"localStorage"in window&&e&&window.localStorage.setItem("crazy-theme",t)},r.getTheme=(t=!1)=>{let e=r.get();if("localStorage"in window&&t){let t=localStorage.getItem("crazy-theme")||r.get();t in["dark","light"]&&(e=t)}return e},r.rgbToHex=(t,e,s)=>"#"+r.componentToHex(t)+r.componentToHex(e)+r.componentToHex(s),r.createVerticalGradient=(t,e=!0)=>e?`background: linear-gradient(to bottom, ${t.map(((e,s)=>`rgba(${e}) ${s/(t.length-1)*100}%`)).join(", ")});`:`linear-gradient(to bottom, ${t.map(((e,s)=>{const n=s/t.length*100;return`rgba(${e}) ${n}%, rgba(${e}) ${n+100/t.length}%`})).join(", ")});`,r.componentToHex=t=>{var e=t.toString(16);return 1==e.length?"0"+e:e};const o=r;class a{}a.check=t=>{let e=!0;return!1!==t&&null!=t&&0!==t&&""!==t&&"false"!==t&&"0"!==t&&"off"!==t||(e=!1),e};const l=a;var u;class c{}u=c,c.convertToNestedObject=(t,e=".")=>{const s={};for(const n in t)if(t.hasOwnProperty(n))if(n.includes(e)){const i=n.split(e);let r=s;for(let e=0;e<i.length;e++)e===i.length-1?r[i[e]]=t[n]:(r[i[e]]=r[i[e]]||{},r=r[i[e]])}else"object"==typeof t[n]&&null!==t[n]?s[n]=u.convertToNestedObject(t[n],e):s[n]=t[n];return s},c.flatten=(t={},e="",s=".")=>{const n={};for(const[i,r]of Object.entries(t)){const t=e?`${e}${s}${i}`:i;"object"!=typeof r||null===r||Array.isArray(r)?n[t]=r:Object.assign(n,u.flatten(r,t,s))}return n},c.unflatten=(t={},e=".")=>{const s={};for(const[n,i]of Object.entries(t)){const t=n.split(e);let r=s;for(let e=0;e<t.length;e++){const s=t[e];r[s]&&"object"==typeof r[s]||(r[s]={}),e===t.length-1?r[s]=i:r=r[s]}}return s},c.deepMergeOld=(t=!1,...e)=>{const s={};for(const n of e)for(const[e,i]of Object.entries(n))"object"!=typeof i||Array.isArray(i)||null===i?t&&void 0!==s[e]?s[e]=Array.isArray(s[e])?[...s[e],i]:[s[e],i]:s[e]=i:s[e]=u.deepMerge(t,s[e]||{},i);return s},c.deepMerge=(t,...e)=>{const s=(e,n)=>{if(null==n)return e;if(Array.isArray(n))Array.isArray(e)||(e=[]),n.forEach(((t,n)=>{e[n]=s(e[n],t)}));else if("object"==typeof n){("object"!=typeof e||Array.isArray(e))&&(e={});for(const i of Object.keys(n))void 0!==e[i]||t?e[i]=s(e[i],n[i]):e[i]=n[i]}else(t||void 0!==e)&&(e=n);return e};return e.reduce(((t,e)=>s(t,e)),{})},c.deepMergeWithSeparator=(t,e,...s)=>{const n=(s,i)=>{if(null==i)return s;if(Array.isArray(i))Array.isArray(s)||(s=[]),i.forEach(((t,e)=>{s[e]=n(s[e],t)}));else if("object"==typeof i){("object"!=typeof s||Array.isArray(s))&&(s={});for(const e of Object.keys(i))t||void 0!==s[e]?s[e]=n(s[e],i[e]):s[e]=i[e]}else"string"==typeof i&&"string"==typeof s?s+=e+i:s=i;return s};return s.reduce(((t,e)=>n(t,e)),{})},c.sortByKey=(t,e="order")=>{const s=Object.entries(t).filter((([,t])=>"number"==typeof t[e]&&t[e]>0)).sort((([,t],[,s])=>t[e]-s[e])),n={};for(const[t,e]of s)n[t]=e;return n};const d=c;class h{}h.removeDuplicateLines=t=>{const e=t.split("\n");return Array.from(new Set(e)).join("\n")},h.ucfirst=t=>t?t.charAt(0).toUpperCase()+t.slice(1):t,h.ucwords=t=>t?t.split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "):t,h.kebabToCamel=(t,e=!1)=>t?t.split("-").map(((t,s)=>0!==s||e?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase())).join(""):t,h.isJson=t=>{let e=!1;if(t){try{JSON.parse(t)}catch(t){e=!1}e=!0}return e},h.decodeHTML=t=>{var e;return null!==(e=(new DOMParser).parseFromString(t,"text/html").documentElement.textContent)&&void 0!==e?e:""};const p=h;class g extends HTMLElement{constructor(t={allowChildNodes:!1}){super(),this.observer=null,this.ingestOptions(t),this.crazy=new f(this.properties)}postRender(){}render(){let t="",e=this.crazy.getContent(),s=this.crazy.getStyle(),n=this.prepareCollectionForRender();if("function"==typeof e?t+=e(n).replace(/\s+/g," ").trim():"string"==typeof e&&e&&(t+=e.replace(/\s+/g," ").trim()),"function"==typeof s?s=s(n).replace(/\s+/g," ").trim():"string"==typeof s&&s&&(t+=s.replace(/\s+/g," ").trim()),this.options.allowChildNodes){var i;const e=(new DOMParser).parseFromString(t,"text/html");let s=e.body.children;if(s.length){for(var r=0;r<s.length;r++)i=Date.now(),s[r].setAttribute("component-id",i.toString());t=e.body.innerHTML}}return t}setDefaultProperties(t){this.crazy.setAttributes(t,!0)}setProperties(){var t;if(Object.keys(this.properties).length>0)for(let e in this.properties){let s=null!==(t=this.properties[e].value)&&void 0!==t?t:"";if(this.hasAttribute(e)){let t=this.getAttribute(e);null!==t&&typeof t===this.properties[e].type&&("select"in this.properties&&"object"==typeof this.properties.select&&null!==this.properties.select?t in this.properties.select&&(s=t):s=t)}this.crazy.setAttribute(e,s,this.properties)}}hasCurrentAttribute(t){return this.crazy.hasAttribute(t)}getCurrentAttribute(t){return this.crazy.getAttribute(t)}setHtmlAndCss(t,e){t&&this.crazy.setContent(t),e&&this.crazy.setStyle(e)}ingestOptions(t){this.options=t}prepareCollectionForRender(){let t={attributes:{},name:this.tagName.toLowerCase()},e=this.crazy.getAttributesName();if(e.length)for(let s of e)t.attributes[s]=this.crazy.getAttribute(s);return t}moveChildren(){var t=new MutationObserver((t=>{t.forEach((t=>{var e;if(t.addedNodes.length&&this.options.allowChildNodes){let t=this.querySelectorAll(":scope > :not([component-id])"),n=this.querySelector("slot");if(t.length&&null===n)for(var s=0;s<t.length;s++)t[s].remove();else if(t.length&&null!==n)for(s=0;s<t.length;s++)null===(e=n.parentNode)||void 0===e||e.insertBefore(t[s],n.previousSibling)}}))}));t.observe(this,{childList:!0})}connectedCallback(){this.moveChildren(),this.setProperties(),this.innerHTML=this.render(),this.postRender()}disconnectedCallback(){}attributeChangedCallback(t,e,s){s!=e&&this.isConnected&&(this.crazy.updateAttribute(t,s),this.innerHTML=this.render(),this.postRender())}adoptedCallback(){}}class f{constructor(t={}){this.attributesByDefault={},this.attributesCurrent={},this.attributeChangedCallback=(t,e,s)=>{this.updateAttribute(t,s)},this.properties=t}setAttributes(t,e=!1){if(Object.keys(t).length>0){for(let e in t)this.setAttribute(e,t[e]);e&&(this.attributesByDefault=t)}}setAttribute(t="",e="",s=null){if(!t)return;let n={name:t,value:"",type:"string"};if(s&&t in s){let i=s[t];"string"==i.type?n.value=!e&&i.value?i.value:e:"number"==i.type?n.value=!e&&i.value?i.value:"number"==typeof e?e:Number(e):"bool"!=i.type&&"boolean"!=i.type||(n.value=!e&&i.value?i.value:!("string"!=typeof e||!["true","1","TRUE"].includes(e)))}else if("string"==typeof e||"number"==typeof e?n.value=e:"boolean"==typeof e&&(n.value=e?"true":"false"),"object"==typeof e&&Object.keys(e).length>0)for(let t in e)if(t in n){let s=e[t];"boolean"==typeof s&&(s=s?"true":"false"),n[t]=s}this.attributesCurrent[t]=n}updateAttribute(t="",e=""){let s=!1,n=!1;return t&&t in this.attributesCurrent?("string"==typeof e?(["true","1","TRUE","false","0","FALSE"].includes(e)&&(n=!0),"boolean"===this.attributesCurrent[t].type&&n?(this.attributesCurrent[t].value=!!["true","1","TRUE"].includes(e),s=!0):"number"===this.attributesCurrent[t].type?(this.attributesCurrent[t].value=Number(e),s=!0):"string"===this.attributesCurrent[t].type&&(this.attributesCurrent[t].value=e,s=!0)):"boolean"==typeof e?"boolean"===this.attributesCurrent[t].type&&(this.attributesCurrent[t].value=!0===e?"true":"false",s=!0):"number"==typeof e?"number"===this.attributesCurrent[t].type?(this.attributesCurrent[t].value=e,s=!0):(this.attributesCurrent[t].value=e.toString(),s=!0):"object"==typeof e&&"value"in e&&"type"in e&&this.attributesCurrent[t].type==e.type&&("boolean"===e.type?(this.attributesCurrent[t].value="string"==typeof e.value&&["true","1","TRUE"].includes(e.value)||"boolean"==typeof e.value&&e.value?"true":"false",s=!0):"string"===e.type&&(this.attributesCurrent[t].value=e),s=!0),s):s}getAttributesName(){return Object.keys(this.attributesCurrent)}hasAttribute(t){let e=!0;return t&&t in this.attributesCurrent||(e=!1),e}getAttribute(t){let e=null;if(!t||!(t in this.attributesCurrent))return e;let s=this.attributesCurrent[t];return e="boolean"===s.type||"bool"===s.type?!!["true","1","TRUE"].includes(s.value):"number"===s.type?Number(s.value):s.value,e}setContent(t){"function"==typeof t?(this.htmlTemplate=t,this.htmlContent=null):"string"==typeof t&&(this.htmlContent=t,this.htmlTemplate=null)}getContent(){let t="";return null!==this.htmlTemplate?t=this.htmlTemplate:null!==this.htmlContent&&(t=this.htmlContent),t}setStyle(t){"object"==typeof t&&"default"in t?(this.cssContent=t.default.toString(),this.cssTemplate=null):"function"==typeof t?(this.cssTemplate=t,this.cssContent=null):"string"==typeof t&&(this.cssContent=t,this.cssTemplate=null)}getStyle(){let t="<style>";return null!==this.cssTemplate?t+=this.cssTemplate:null!==this.cssContent&&(t+=this.cssContent),"<style>"===t?t="":t+="</style>",t}}var m;class v{}m=v,v.isChrome=()=>-1!=navigator.userAgent.indexOf("Chrome"),v.isFirefox=()=>-1!=navigator.userAgent.indexOf("Firefox"),v.isOpera=()=>-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR")),v.isSafari=()=>-1!=navigator.userAgent.indexOf("Safari"),v.isIE=()=>-1!=navigator.userAgent.indexOf("MSIE")||"documentMode"in document&&1==!!document.documentMode,v.isEdge=()=>-1!=navigator.userAgent.indexOf("Edg"),v.isEdgeChromium=()=>m.isChrome()&&-1!=navigator.userAgent.indexOf("Edg"),v.isBlink=()=>(m.isChrome()||m.isOpera())&&!!window.CSS,v.get=()=>{let t="",e=Object.getOwnPropertyNames(m).filter((function(t){return t.startsWith("is")}));for(let s of e)if(m[s]()){t=s.substring(2).toLowerCase();break}if(!t)throw new Error("Navigator isn't implement in Crazy Php");return t};const y=v;class b extends Error{constructor(t){super(t)}}class w{constructor(){this._collection=[],this.add=(t,e=null)=>{if(!t)throw new b("Event must have a valid name");if(this.has(t))throw new b("The Event already exists");let s;s=null===e?new Event(t):new CustomEvent(t,{detail:e}),this._collection.push(s)},this.get=t=>{let e=null;if(t&&this._collection.length)for(let s of this._collection)if(s.type==t){e=s;break}return e},this.getAll=()=>this._collection,this.has=t=>{let e=!1;if(t&&this._collection.length)for(let s of this._collection)if(s.type==t){e=!0;break}return e},this.remove=t=>{let e=!1;if(t&&!this.has(t)||0===this._collection.length)e=!0;else if(t&&this._collection.length)for(let s in this._collection)if(this._collection[s].type==t){delete this._collection[s],e=!0;break}return e},this.dispatch=(t,e=document)=>{if(!t)return;let s;if("string"==typeof t&&(t=[t]),t.length)for(let n of t)s=this.get(n),null!==s&&e.dispatchEvent(s)}}}var _;class S{}_=S,S.filterByKey=(t=[],e,s)=>t.filter((t=>t[e]==s)),S.filterByKeyMD=(t=[],e,s)=>t.filter((t=>_.getNestedValue(t,e.split("."))==s)),S.removeObjectsByKeyValue=(t,e,s)=>t.filter((t=>_.getNestedValue(t,e.split("."))!==s)),S.flatten=(t,e=".",s="",n={})=>{for(const[i,r]of Object.entries(t)){const t=s?`${s}${e}${i}`:i;"object"!=typeof r||null===r||Array.isArray(r)?n[t]=r:_.flatten(r,e,t,n)}return n},S.unflatten=(t,e=".")=>{const s={};for(const[n,i]of Object.entries(t)){const t=n.split(e);let r=s;for(let e=0;e<t.length;e++){const s=t[e];e===t.length-1?r[s]=i:r[s]=r[s]||{},r=r[s]}}return s},S.getNestedValue=(t,e)=>e.reduce(((t,e)=>t&&t[e]),t);const A=S;Error;var E=s(4539);class C{}C.load=(t,e="",s=!0,n="text/javascript",i="body")=>new Promise(((r,o)=>{try{if(null!==document.querySelector(`script#script-${e}`))r({status:!0});else{const a=document.createElement("script");a.type=n,a.async=s,a.src=t,e&&(a.id=`script-${e}`),a.addEventListener("load",(t=>{r({status:!0})})),a.addEventListener("error",(e=>{o({status:!1,message:`Failed to load the script ${t}`})})),document[i].appendChild(a)}}catch(t){o(t)}}));const T=C;var R=s(1647);class D{constructor(t){this.theme=null,this.setNewTheme=(t="#4caf50",e)=>{t&&(this.theme=(0,R.MK)((0,R.cd)(t),e))},this.getTheme=()=>this.theme,this.getThemeAsJson=()=>{let t="",e=this.getTheme();return e&&(t=JSON.stringify(e,null,2)),t},this.applyTheme=(t=document.body)=>{let e=!1;return this.theme&&((0,R.hC)(this.theme,{target:t,dark:"dark"==o.getTheme()}),e=!0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this._onColorModeChange),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",this._onColorModeChange),e},this._onColorModeChange=t=>{"matches"in t&&t.matches&&this.theme&&(0,R.hC)(this.theme,{target:document.body,dark:"dark"==o.getTheme()})},t&&this.setNewTheme(t)}}D.scanCrazyColor=t=>{let e=t.querySelectorAll("[data-crazy-color]");return e.length&&e.forEach((t=>{if(t instanceof HTMLElement){var e=t.dataset.crazyColor;e&&new D(e).applyTheme(t)}})),null};const L=D;class P{}P.set=(t="")=>{"string"==typeof t&&(t=new URL(t)),window.history.pushState({},"",t.toString())},P.get=(t=!1)=>{let e=window.location.href;if(t){const t=new URL(e);e=t.origin+t.pathname}return e},P.getQueryParameters=()=>{let t={};return new URLSearchParams(window.location.search).forEach(((e,s)=>{t[s]=e})),t},P.addQueryParameters=(t,e)=>{const s=new URLSearchParams(window.location.search);for(const[n,i]of Object.entries(t)){const t=e?`${e}[${n}]`:n;"object"==typeof i&&null!==i?P.addQueryParameters(i,t):"boolean"==typeof i?!t.includes("[]")&&s.has(t)?s.set(t,i?"true":"false"):s.append(t,i?"true":"false"):null===i||""===i?!t.includes("[]")&&s.has(t)?s.set(t,""):s.append(t,""):!t.includes("[]")&&s.has(t)?s.set(t,i):s.append(t,i)}const n=`${window.location.origin}${window.location.pathname}?${s.toString()}`;return P.set(n),n},P.removeQueryParameters=t=>{if(t&&t.length){"string"==typeof t&&(t=[t]);var e=new URLSearchParams(window.location.search);let s=!1;for(let n of t)e.has(n)&&(e.delete(n),s=!0);if(s){const t=`${window.location.pathname}?${e.toString()}`;window.history.pushState(null,"",t)}}},P.isSameDomain=t=>{let e=!1;if(!t)return e;try{const s=new URL(t);e=window.location.origin===s.origin}catch(t){e=!1}return e},P.toQueryString=(t,e="")=>{var s,n,i=[];for(var r in t)t.hasOwnProperty(r)&&(s=~r.indexOf("[")?e?e+"["+r.substring(0,r.indexOf("["))+"]"+r.substring(r.indexOf("[")):r:e?e+"["+r+"]":r,n=t[r],i.push("object"==typeof n?P.toQueryString(n,s):encodeURI(s)+"="+encodeURIComponent(n)));return i.join("&")};const O=P;class j{}j.id="crazy-root",j.getId=()=>{if(!j.id)throw new b("ID of the root is not set.");return j.id},j.getEl=()=>{const t=j.id;let e=document.getElementById(t);if(null===e)throw new b(`Element "#${t}" does not exist in the dom.`);return e},j.setContent=(t="")=>{let e=j.getEl(),s=document.createRange().createContextualFragment(t);return e.replaceWith(s),e};const H=j;var $=s(1924);class I{constructor(){this._eventRegister={},this.store=()=>this._store,this.data=(t,e)=>{let s=null;return"set"===I._trigger&&void 0!==e?this._store.setState((s=>this._setValueByKeyPath(s,t,e))):"get"===I._trigger?s=this._getValueByKeyPath(this._store.getState().data,t):"delete"===I._trigger&&this._store.setState((e=>this._removeValueByKeyPath(e,t))),s},this.page=(t,e)=>{var s;let n=null;if(t||(t=null===(s=window.Crazyobject.currentPage.get())||void 0===s?void 0:s.name),!t)return n;let i=`_page.${t}`;return"set"===I._trigger&&void 0!==e?this._store.setState((t=>this._setValueByKeyPath(t,i,e))):"get"===I._trigger?(e&&(i+=`.${e}`),n=this._getValueByKeyPath(this._store.getState(),i)):"delete"===I._trigger&&this._store.setState((t=>this._removeValueByKeyPath(t,i))),n},this.globalPartial=(t,e)=>{let s=null;if(!t)return s;let n=`_partial.${t}`;return"set"===I._trigger&&void 0!==e?this._store.setState((t=>this._setValueByKeyPath(t,n,e))):"get"===I._trigger?s=this._getValueByKeyPath(this._store.getState(),n):"delete"===I._trigger&&this._store.setState((t=>this._removeValueByKeyPath(t,n))),s},this.all=()=>{let t=null;return"set"===I._trigger?this._store.setState((t=>{})):"get"===I._trigger?t=this._store.getState():"delete"===I._trigger&&this._store.setState((t=>{})),t},this.method=(t,e)=>{let s=null;return"set"===I._trigger&&e?(this[t]=e.bind(this),this._dynamicMethods.add(t)):"get"===I._trigger?s=this[t]:"delete"===I._trigger&&delete this[t],s},this.reset=(t=!0)=>{this._store.setState((t=>{})),t&&(this._dynamicMethods.forEach((t=>{delete this[t]})),this._dynamicMethods.clear())},this.event=(t,e,s,n)=>{let i=null;if("set"===I._trigger){if(t&&e){let i=e;if((null==n?void 0:n.context)&&"page"===(null==n?void 0:n.context)&&(i=(t,s)=>{var i;let r=n.target?n.target:null===(i=window.Crazyobject.currentPage.get())||void 0===i?void 0:i.name;if(r){let n=this._getValueByKeyPath(t,`_page.${r}`),i=this._getValueByKeyPath(s,`_page.${r}`);e(n,i)}else e(t,s)}),t in this._eventRegister){this._store.destroy(),this._eventRegister[t]=s?{name:t,callback:i,selector:t=>this._getValueByKeyPath(t,s)}:{name:t,callback:i};for(let t in this._eventRegister)this._eventRegister[t].selector?this._store.subscribe(this._eventRegister[t].callback,this._eventRegister[t].selector):this._store.subscribe(this._eventRegister[t].callback)}else this._eventRegister[t]=s?{name:t,callback:i,selector:t=>this._getValueByKeyPath(t,s)}:{name:t,callback:i},s?this._store.subscribe(i,s):this._store.subscribe(i)}}else if("get"===I._trigger)t?t in this._eventRegister&&(i=this._eventRegister[t]):i=this._eventRegister;else if("delete"===I._trigger)if(t){if(t in this._eventRegister){this._store.destroy(),delete this._eventRegister[t];for(let t in this._eventRegister)this._eventRegister[t].selector?this._store.subscribe(this._eventRegister[t].callback,this._eventRegister[t].selector):this._store.subscribe(this._eventRegister[t].callback)}}else this._store.destroy(),this._eventRegister={};return i},this._getValueByKeyPath=(t,e,s=".")=>{const n=e.split(s||".");for(const e of n){if(null==t||"object"!=typeof t)return null;t=t[e]}return void 0!==t?t:null},this._setValueByKeyPath=(t,e,s,n=".")=>{const i=e.split(n),r=i.pop();if(!r)return t;let o=t;for(const t of i)null!=o[t]&&"object"==typeof o[t]||(o[t]=isNaN(Number(i[0]))?{}:[]),o=o[t];return o[r]=s,t},this._removeValueByKeyPath=(t,e,s=".")=>{const n=e.split(s),i=n.pop();if(!i)return!1;let r=t;for(const t of n){if(null==r||"object"!=typeof r)return!1;r=r[t]}if(r&&i in r){if(!Array.isArray(r))return delete r[i],t;{const e=parseInt(i,10);if(!isNaN(e)&&e>=0&&e<r.length)return r.splice(e,1),t}}return t},this._store=(0,$.y)({})}}I.defaultSchema={_page:{},_global:{},_partial:{}},I._instance=null,I._trigger="get",I.get=()=>(I._instance||(I._instance=new I,I._instance._store.setState((t=>I.defaultSchema))),I._trigger="get",I._instance),I.set=()=>(I._instance||(I._instance=new I,I._instance._store.setState((t=>I.defaultSchema))),I._trigger="set",I._instance),I.delete=()=>(I._instance||(I._instance=new I,I._instance._store.setState((t=>I.defaultSchema))),I._trigger="delete",I._instance);const k=I;var N;class M{constructor(t){return N.loadPageDetail(t).then(N.loadPreAction).then(N.loadUrl).then(N.openNewTab).then(N.loadScript).then(N.updateUrl).then(N.loadPageState).then(N.updateTitle).then(N.cleanPotentialExisitingPartials).then(N.loadStyle).then(N.loadContent).then(N.registerInHistory).then((t=>{"loading"!==document.readyState?N.applyColorSchema(t).then(N.scanPartials).then(N.loadOnReadyScript).then(N.loadPostAction).then(N.setCurrentPage).catch(N.catchError):document.addEventListener("DOMContentLoaded",(()=>{N.applyColorSchema(t).then(N.scanPartials).then(N.loadOnReadyScript).then(N.loadPostAction).then(N.setCurrentPage).catch(N.catchError)}))})).catch(N.catchError)}static catchError(t){console.error(t)}static setStatus(t,e,s){return"status"in t&&null!==t.status&&t.status||(t.status={}),t.status[e]=s,t}static resetOptions(t){return t=N.setStatus(t,"isCurrentPage",!1),t=N.setStatus(t,"hasState",!1),t=N.setStatus(t,"styleLoaded",!1),t=N.setStatus(t,"contentLoaded",!1),t=N.setStatus(t,"onReadyExecuted",!1),t=N.setStatus(t,"postActionExecuted",!1),N.setStatus(t,"urlUpdated",!1)}}N=M,M.loadPageDetail=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){let e=["isCurrentPage","hasState","scriptRegistered","urlLoaded","preActionExecuted","urlUpdated","titleUpdated","styleLoaded","contentLoaded","onReadyExecuted","historyRegistered","postActionExecuted","hasColor"];for(let s of e)void 0!==t.status&&null!==t.status&&s in t.status||(t=N.setStatus(t,s,!1));return t})),M.loadPreAction=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;return!0===(null===(e=t.status)||void 0===e?void 0:e.preActionExecuted)?t:("function"==typeof t.preAction&&(t=t.preAction(t)),t=N.setStatus(t,"preActionExecuted",!0))})),M.loadScript=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!1===(null===(e=t.status)||void 0===e?void 0:e.scriptRegistered)&&t.name){let e=window.Crazyobject.hash.get(),s=`/dist/page/app/${t.name}.${e}.js`,n=(yield T.load(s,t.name,!0),window.Crazyobject.registerPage.getRegistered(t.name?t.name:""));null!==n&&"classReference"in n&&"html"in(null==n?void 0:n.classReference)&&(null==n?void 0:n.classReference.html)&&(t.content=null==n?void 0:n.classReference.html),null!==n&&"classReference"in n&&"css"in(null==n?void 0:n.classReference)&&(null==n?void 0:n.classReference.css)&&"default"in(null==n?void 0:n.classReference.css)&&"string"==typeof(null==n?void 0:n.classReference.css.default)&&(t.style=null==n?void 0:n.classReference.css.default.toString().replace(/\r?\n|\r/g,"").replace(/\/\*[\s\S]*?\*\//g,"")),t.scriptLoaded=null==n?void 0:n.classReference,t=N.setStatus(t,"scriptRegistered",!0)}return t})),M.loadUrl=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.urlLoaded))return t.url||(t.url=new URL(O.get(!0))),t;if("url"in t&&null!==t.url)return t;let s={filters:{name:t.name},options:{}};"arguments"in t&&null!==t.arguments&&(s.options.arguments=t.arguments);let n=new V("/api/v2/Router/filter",{method:"GET",responseType:"json",from:"internal",ignoreHash:!0,cache:!1});return yield n.fetch(s).then((e=>{if(!(e&&"results"in e&&Array.isArray(e.results)&&1===e.results.length&&"name"in e.results[0]&&"path"in e.results[0]))throw new Error(`No page corresponding to "${t.name}" in the router collection`);t.url=e.results[0].path,"state"in e.results[0]&&Object.keys(e.results[0].state).length&&(t.state=e.results[0].state,N.setStatus(t,"hasState",!0))})),t=N.setStatus(t,"urlLoaded",!0)})),M.openNewTab=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if("openInNewTab"in t&&t.openInNewTab&&(null===(e=t.status)||void 0===e?void 0:e.urlLoaded)&&"url"in t&&"string"==typeof t.url&&t.url)throw window.open(t.url,"_blank"),"Page open in new tab.";return t})),M.loadPageState=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){if(t.url&&t.name){let e=new V(`${t.url}?catch_state=true`,{method:"get",cache:!1,responseType:"json",from:"internal"}),s=yield e.fetch();k.set().page(t.name,s),t.status&&null===t.status&&(t.status={},t.status.hasState=!0)}return t})),M.updateUrl=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;return!0===(null===(e=t.status)||void 0===e?void 0:e.urlUpdated)||"url"in t&&null!==t.url&&O.set(t.url),t})),M.updateTitle=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.titleUpdated))return t;let s=t.name;return s&&(document.title=s),t})),M.cleanPotentialExisitingPartials=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){let e=window.Crazyobject.currentPage.get();if(e&&e.partials&&Array.isArray(e.partials)&&e.partials.length)for(let t of e.partials)t.scriptRunning&&t.scriptRunning.onDestroy();return t})),M.loadStyle=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.styleLoaded))return t;if("style"in t&&"string"==typeof t.style){let e=document.createElement("style");e.setAttribute("id",`style-${t.name}`),e.innerText=t.style,N.setStatus(t,"styleLoaded",!0),document.head.appendChild(e)}return t})),M.loadContent=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.contentLoaded))return t;if(t.name&&"content"in t&&"function"==typeof t.content){let e=k.get().page(t.name),s=t.content(e);H.setContent(s)}return t})),M.scanPartials=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.partialsScanned))return t;let s=window.Crazyobject.partials.scan("body");if(Object.keys(s).length){t.partials=s;for(let e in t.partials){let s=new t.partials[e].callable(t.partials[e]);t.partials[e].scriptRunning=s}}return t=N.setStatus(t,"partialsScanned",!0)})),M.registerInHistory=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e,s;if(!0===(null===(e=t.status)||void 0===e?void 0:e.historyRegistered))return t;let n=t.url?null===(s=t.url)||void 0===s?void 0:s.toString():"";return window.Crazyobject.historyPage.register({href:n,loader:N.resetOptions(t),state:t.name?k.get().page(t.name):null}),t})),M.applyColorSchema=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e,s;let n=document;if(t.name){let i=k.get().page(t.name),r="object"==typeof i&&i?null===(s=null===(e=i._ui)||void 0===e?void 0:e.materialDynamicColors)||void 0===s?void 0:s.source:null,o=document.body;if("string"==typeof r&&r)o.dataset.crazyColor=r;else if("defaultColor"in o.dataset){let t=o.dataset.defaultColor;"string"==typeof t&&t&&(o.dataset.crazyColor=t)}let a=L.scanCrazyColor(n);(null==a?void 0:a.length)&&(t=N.setStatus(t,"hasColorApplied",!0))}return t})),M.loadOnReadyScript=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.onReadyExecuted))return t;if("scriptLoaded"in t&&t.scriptLoaded&&"constructor"in t.scriptLoaded){let e=new(0,t.scriptLoaded)(t);t.scriptRunning=e,t=N.setStatus(t,"onReadyExecuted",!0)}return t})),M.loadPostAction=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;return!0===(null===(e=t.status)||void 0===e?void 0:e.postActionExecuted)?t:("function"==typeof t.postAction&&(t=t.postAction(t)),t=N.setStatus(t,"postActionExecuted",!0))})),M.setCurrentPage=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;return!0===(null===(e=t.status)||void 0===e?void 0:e.onReadyExecuted)&&window.Crazyobject.currentPage.set(t),t}));const x=M;class U{constructor(t){this._events=[],this._ingestEvents=t=>{for(let e of t)this._events.push(e)},this._runEvents=()=>{if(this._events.length)for(let t of this._events)if("redirect"==t.type){this._runRedirection(t);break}},this._runRedirection=t=>{var e;let s={};if(t.name)s.name=t.name,"_blank"==t.target&&(s.openInNewTab=!0),null===(e=window.Crazyobject.state.globalStore)||void 0===e||e.iterate(((t,e)=>("object"==typeof s.arguments&&s.arguments||(s.arguments={}),s.arguments[e]=t,s))).then((t=>{new x(t)}));else if(t.url){let e=new URL(t.url);"_blank"==t.target?window.open(e):window.location.href=e.href}},t._events&&(this._ingestEvents(t._events),this._runEvents())}}var F=s(8838);class q{constructor(t="crazy-cache"){if(this.nameReserved=["dateCreated","dateUpdated","dateLoaded"],this.get=t=>(0,E.sH)(this,void 0,void 0,(function*(){var e;return null===(e=this.instance)||void 0===e?void 0:e.getItem(t)})),this.set=(t,e,s)=>(0,E.sH)(this,void 0,void 0,(function*(){var s;return null===(s=this.instance)||void 0===s?void 0:s.setItem(t,e)})),this.setDefaultProperties=()=>{let t=new Date;if(this.instance)for(let e of["dateCreated","dateUpdated","dateLoaded"])this.instance.getItem(e).then((s=>{var n;null!==s&&"dateLoaded"!=e||null===(n=this.instance)||void 0===n||n.setItem(e,t)})).catch((t=>{console.warn(t)}))},!t)throw new Error("Cache name can't be empty !");this.instance=F.createInstance({name:"crazy-"+t}),this.instance.ready().then((()=>{this.setDefaultProperties()})).catch((function(t){console.warn(t)}))}}var z=s(2618),B=s.n(z);class V{constructor(t,e={}){this.header=null,this.options={},this.defaultOptions={method:"get",header:{},cache:!1,responseType:"json",responseEncoding:"utf8",from:"internal",catchEvents:!0},this.getParameters="",this.fetch=(t=void 0)=>{this.lastResponse=void 0,this.lastResponseContentType=void 0,this.pushBodyInRequestOptions(t);let e=this.getUrl(!0),s=new Request(e,this.requestOptions),n=this.options.cache?this.getKey(s,t):null;if(n){let t=new q("request").get(n);if(null!==t)return t}return fetch(s).then((t=>{if(this.lastResponse=t,"internal"===this.options.from&&t.headers.get("Crazy-Hash")&&(!("ignoreHash"in this.options)||!0!==this.options.ignoreHash)){let e=t.headers.get("Crazy-Hash");e&&(this.lastResponseCrazyHash=e,window.Crazyobject.hash.set(e))}if(t.headers.has("Content-Type")){let e=t.headers.get("Content-Type");if(null!==e&&e.includes("application/json"))return this.lastResponseContentType=e,t.json()}return null})).then((t=>(this.options.catchEvents&&"object"==typeof t&&t&&"_events"in t&&Array.isArray(t._events)&&t._events.length&&new U(t),t)))},this.getJson=t=>{t.value=t.json()},this.getKey=(t,e)=>{let s,n={request:t,body:e};return n=JSON.parse(JSON.stringify(n)),s=B()(n),s},this.prepareGivenOptions=t=>{if(this.options=Object.assign({},this.defaultOptions),Object.keys(t).length>0)for(let e in t)this.options[e]=t[e]},this.prepareRequestOptions=()=>{void 0===this.requestOptions&&(this.requestOptions={}),this.requestOptions.method=this.options.method;let t=new Headers;if(void 0!==this.options.header&&Object.keys(this.options.header).length>0)for(let e of Object.keys(this.options.header))t.append(e,this.options.header[e]);this.requestOptions.headers=t,"internal"===this.options.from?(this.requestOptions.mode="same-origin",this.requestOptions.credentials="same-origin"):"external"===this.options.from&&(this.requestOptions.mode="no-cors"),0==this.options.cache&&(this.requestOptions.headers.set("Pragma","no-cache"),this.requestOptions.headers.set("Cache-Control","no-store")),this.requestOptions.headers.has("Accept")||"json"!==this.options.responseType||this.requestOptions.headers.set("Accept","application/json")},this.pushBodyInRequestOptions=t=>{var e,s,n;if(void 0===this.requestOptions)throw new Error("Request options have te be already set before push body content !");if(void 0!==this.requestOptions.body&&(this.requestOptions.body=""),void 0!==t)if(["GET","HEAD","get","head"].includes(null!==(e=this.requestOptions.method)&&void 0!==e?e:"get")){if("object"==typeof t){var i=V.toQueryString(t);this.getParameters?this.getParameters+=`&${i}`:this.getParameters=i}}else if(["POST","post"].includes(null!==(s=this.requestOptions.method)&&void 0!==s?s:"")){let e=null;t instanceof FormData?e=t:"object"==typeof t&&(e=JSON.stringify(t),this.requestOptions.headers instanceof Headers||(this.requestOptions.headers=new Headers),this.requestOptions.headers.set("Content-Type","application/json")),null!==e&&(this.requestOptions.body=e)}else if(["PUT","put"].includes(null!==(n=this.requestOptions.method)&&void 0!==n?n:"")){let e=null;t instanceof FormData&&(e=t),null!==e&&(this.requestOptions.body=e)}else{let e=null;Array.isArray(t)||"object"==typeof t?e=JSON.stringify(t):"string"==typeof t&&(e=t),null!==e&&(this.requestOptions.body=e)}},this.getUrl=(t=!1)=>this.getParameters&&t?`${this.url}?${this.getParameters}`:this.url,this.url=t,this.prepareGivenOptions(e),this.prepareRequestOptions()}static toQueryString(t,e=""){var s,n,i=[];for(var r in t)if(t.hasOwnProperty(r)){s=~r.indexOf("[")?e?e+"["+r.substring(0,r.indexOf("["))+"]"+r.substring(r.indexOf("[")):r:e?e+"["+r+"]":r;var o="object"==typeof(n=t[r])?V.toQueryString(n,s):encodeURIComponent(s)+"="+encodeURIComponent(n);i.push(o)}return i.join("&")}}class Y{constructor(){this.routerAction=[],this.cacheInstance=null,this.currentPage=null,this.history=[],this.prepareCache=t=>{let e={};null!==t&&(e={header:{"If-Modified-Since":new Date(t).toUTCString()}});let s=new V("/api/v1/config/Router",e);s.fetch().then((t=>{var e,n,i,r,o,a;if(200===(null===(e=s.lastResponse)||void 0===e?void 0:e.status))return null===(n=this.cacheInstance)||void 0===n?void 0:n.set("app",t.results.config.Router.app);if(304===(null===(i=s.lastResponse)||void 0===i?void 0:i.status))return null===(r=this.cacheInstance)||void 0===r?void 0:r.get("app");throw new Error("Error when loading config router : "+(null===(o=s.lastResponse)||void 0===o?void 0:o.statusText)+"("+(null===(a=s.lastResponse)||void 0===a?void 0:a.status)+")")})).then((t=>{console.log("__value___"),console.log(t),this.customEvent=new CustomEvent("routerReady",{detail:t}),document.dispatchEvent(this.customEvent)}))},this.getCurrent=()=>Object,this.setCurrent=(t="")=>{},this.loadInternalPage=t=>{t.name&&t.name in this.routerAction?console.log("In the router action collection"):(console.log("Router action has to be loaded"),t.name&&G.loadAction(t.name).then((t=>{var e,s;if(!t.status)throw new Error("Failed to load action of page");return console.log("Refactor"),console.log(null===(e=this.cacheInstance)||void 0===e?void 0:e.get("app")),console.log("End Refactor"),null===(s=this.cacheInstance)||void 0===s?void 0:s.get("app")})).then((t=>{this.customEvent=new CustomEvent("routerReady",{detail:t}),document.dispatchEvent(this.customEvent)}))),O.set(t.path)},this.filterArrayByKeyValue=(t=[],e,s)=>t.filter((t=>t[e]==s)),this.cacheInstance=new q("router"),this.cacheInstance.get("dateUpdated").then(this.prepareCache)}register(t){let e=s=>{var n;if("detail"in s&&Array.isArray(s.detail)&&"className"in t&&"string"==typeof t.className)if(this.filterArrayByKeyValue(s.detail,"name",t.className).length&&(this.routerAction[t.className]={instance:t,file:"",date:new Date}),null===this.currentPage){let e=new t;this.currentPage=e;let s={instance:t,date:new Date};this.history.push(s)}else{let e=new t,s=document.querySelector("[specific-to-page]");if(null!==s&&s.remove(),null!==t.css&&"default"in t.css){let e=null===(n=t.css.default)||void 0===n?void 0:n.toString(),s=document.createElement("style");s.innerText=e||"",s.setAttribute("specific-to-page",t.className),document.head.appendChild(s)}if("function"==typeof t.html){let e=t.html(),s=(new DOMParser).parseFromString(e,"text/html"),n=document.getElementById("crazy-root"),i=s.getElementById("crazy-root");null!==n&&null!==i&&n.replaceWith(i)}this.currentPage=e}document.removeEventListener("routerReady",e)};document.addEventListener("routerReady",e)}redirect(t="/"){console.log(t),new V("/api/v2/Router/filter",{})}}Y.loadAction=(t,e=!0)=>{let s;if(window.Crazyobject.hash.isWatch())return window.Crazyobject.hash.setFromRequest().then((()=>{s=window.Crazyobject.hash.get();let n=`/dist/page/app/${t}.${s}.js`;return T.load(n,t,e)}));{if(s=window.Crazyobject.hash.get(),!s){let t=document.querySelector('meta[name="application-hash"]');if(null===t||!("content"in t)||!t.content)throw new Error("Hash is empty...");s=t.content}let n=`/dist/page/app/${t}.${s}.js`;return T.load(n,t,e)}};const K=Y;var W;class J{constructor(t=null){this.pageRegister=null,this.pageState=null,this.setCurrentPage=()=>{var t;(null===(t=this.options)||void 0===t?void 0:t.name)&&(this.pageState=k.get().page(this.options.name))},this.registerEvents=t=>{var e;if((null===(e=this.options)||void 0===e?void 0:e.name)&&this.statePageEvents&&this.statePageEvents.length)for(let t of this.statePageEvents)k.set().event(`${this.options.name}_${t.name}`,t.callback,`_page.${this.options.name}.${t.selector}`,{context:"page",target:this.options.name}),console.log(`${t.name} (${this.options.name}_${t.name}) registered`)},this.dispatchEvents=()=>{},this.dispatchEvent=(t,e)=>{},this.convertToUrl=(t="",e=window.location.href)=>{let s;return s=t.startsWith("/")?new URL(t,e):new URL(t),s},this.getAllPartials=()=>{var t,e;let s=[];return Array.isArray(null===(t=this.options)||void 0===t?void 0:t.partials)&&(s=null===(e=this.options)||void 0===e?void 0:e.partials),s},this.getPartial=t=>{let e=null;if(t){let s=this.getAllPartials(),n=A.filterByKey(s,"name",t);Array.isArray(n)&&n.length&&(e=n.shift())}return e},this.redirectTo=(t="",e=!1)=>{let s=this.convertToUrl(t),n=!1;return e?(window.location.assign(s),n):(null===this.pageRegister&&(this.pageRegister=new K),this.pageRegister.redirect(t),n)},this.redirectByName=(t,e,s=!1)=>{let n={filters:{name:t},options:{}};"arguments"in e&&null!==e.arguments&&(n.options.arguments=e.arguments),new V("/api/v2/Router/filter",{method:"GET",responseType:e.mimetype,from:"internal",ignoreHash:!0}).fetch(n).then((e=>{var s;if(!(e&&"results"in e&&Array.isArray(e.results)&&1===e.results.length&&"name"in e.results[0]&&"path"in e.results[0]))throw new Error(`No page corresponding to "${t}" in the router collection`);null===(s=window.Crazyobject.pages)||void 0===s||s.loadInternalPage(e.results[0])}))},this.getPageState=(...t)=>(0,E.sH)(this,[...t],void 0,(function*(t=!1){let e={};if(t||null===this.options||void 0===this.options.state){let t=O.get(!0);e=new V(`${t}?catch_state=true`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((t=>this.options&&this.options.status?(this.options.state=t,this.options.status.hasState=!0,this.options.state):t))}else e=this.options.state;return e})),this.options=t,this.setCurrentPage(),this.dispatchEvents()}}W=J,J.html=null,J.css=null,J.parameters=[],J.getClassName=()=>W.className,J.loadScript=(t,e=!0,s="text/javascript")=>new Promise(((n,i)=>{try{const r=document.createElement("script");r.type=s,r.async=e,r.src=t,r.addEventListener("load",(t=>{n({status:!0})})),r.addEventListener("error",(e=>{i({status:!1,message:`Failed to load the script ${t}`})})),document.body.appendChild(r)}catch(t){i(t)}})),J.loadAction=(t,e=!0)=>{let s="";"Crazyobject"in window&&"object"==typeof window.Crazyobject&&null!==window.Crazyobject?s=window.Crazyobject.getHash():new Error("Crazyobject isn't valid, can't retrieve the hash. Try to reload the page");let n=`/dist/page/app/${t}.${s}.js`;return W.loadScript(n,e)},J.loadPageState=(...t)=>(0,E.sH)(void 0,[...t],void 0,(function*(t="",e=!0){return t||(t=O.get(!0)),new V(`${t}?catch_state=true`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((t=>(e&&t&&Object.keys(t)&&k.set().page(t),t)))}));const G=J;var Q;class Z{constructor(t){return Q.loadPartialDetail(t).then(Q.loadPreAction).then(Q.loadScript).then(Q.loadContent).then(Q.pushToDomEl).then(Q.runScript).then(Q.loadPostAction).catch(Q.catchError)}static catchError(t){console.error(t)}static setStatus(t,e,s){return("object"!=typeof t||"status"in t)&&null!==t.status&&t.status||(t.status={}),t.status[e]=s,t}}Q=Z,Z.loadPartialDetail=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){let e=["hasState","scriptRegistered","preActionExecuted","contentLoaded","contentPushedToDom","postActionExecuted"];for(let s of e)void 0!==t.status&&null!==t.status&&s in t.status||(t=Q.setStatus(t,s,!1));return t})),Z.loadPreAction=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;return!0===(null===(e=t.status)||void 0===e?void 0:e.preActionExecuted)?t:("function"==typeof t.preAction&&(t=t.preAction(t)),t=Q.setStatus(t,"preActionExecuted",!0))})),Z.loadScript=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!1===(null===(e=t.status)||void 0===e?void 0:e.scriptRegistered)&&t.name){let e=window.Crazyobject.partials.get(t.name);null!==e&&(t.scriptLoaded=e,t=Q.setStatus(t,"scriptRegistered",!0))}return t})),Z.loadContent=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e,s,n;if(!0===(null===(e=t.status)||void 0===e?void 0:e.contentLoaded))return t;let i={};return(null===(s=t.status)||void 0===s?void 0:s.hasState)?i=t.state:t.scriptLoaded&&null!==t.scriptLoaded&&(i=yield G.loadPageState(),t.status&&null===t.status&&(t.status={},t.status.hasState=!0)),t.state=i,!0===(null===(n=t.status)||void 0===n?void 0:n.scriptRegistered)&&t.scriptLoaded&&(t.content=t.scriptLoaded.html,t=Q.setStatus(t,"contentLoaded",!0)),t})),Z.pushToDomEl=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;if(!0===(null===(e=t.status)||void 0===e?void 0:e.contentPushedToDom))return t;if(t.domTarget&&t.content){let e=document.querySelectorAll(t.domTarget);if(0==e.length)throw new Error(`Partial loader doesn't found into the dom element "${t.domTarget}"`);e.forEach((e=>{if("function"!=typeof t.content)throw new Error("Partial content isn't callable");{let s=(new DOMParser).parseFromString(t.content(t.state),"text/html");s.body.firstChild&&e.replaceWith(s.body.firstChild)}})),Q.setStatus(t,"contentPushedToDom",!0)}return t})),Z.runScript=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e,s;return!1===(null===(e=t.status)||void 0===e?void 0:e.contentPushedToDom)||!1===(null===(s=t.status)||void 0===s?void 0:s.scriptRegistered)||(t.scriptRunning=new t.scriptLoaded),t})),Z.loadPostAction=t=>(0,E.sH)(void 0,void 0,void 0,(function*(){var e;return!0===(null===(e=t.status)||void 0===e?void 0:e.postActionExecuted)?t:("function"==typeof t.postAction&&(t=t.postAction(t)),t=Q.setStatus(t,"postActionExecuted",!0))}));class X{static getNavigatorLanguage(t=!0){var e,s;let n=t?"en":"en-US",i="",r="",o=y.get();if(["firefox"].includes(o)){if(2===window.navigator.languages.length){let t=window.navigator.languages.at(0),e=window.navigator.languages.at(1);"string"==typeof t&&t&&(r=t),"string"==typeof e&&e&&(i=e)}}else["chrome"].includes(o)?(r=window.navigator.language,i=null!==(e=r.split("-").at(0))&&void 0!==e?e:""):"language"in window.navigator&&window.navigator.language?(r=window.navigator.language,i=null!==(s=r.split("-").at(0))&&void 0!==s?s:""):(r="en-US",i="en");return n=t?i:r,n}}class tt{constructor(){this.registered=[],this.register=t=>{if(0!==A.filterByKey(this.registered,"className",t.className).length);else{let e={className:t.className,classReference:t,dateLoaded:new Date,scriptUrl:new URL(`${window.location.origin}/dist/${t.className}.${window.Crazyobject.hash.get()}.js`)};this.registered.push(e)}window.Crazyobject.events.has("onFirstPageRegistered"),window.Crazyobject.events.dispatch("onFirstPageRegistered")},this.getRegistered=t=>{let e=null;if(t){let s=A.filterByKey(this.registered,"className",t);s.length>0&&(e=s[0])}return e},this.getAll=()=>this.registered}}class et{}et.dollar=t=>{let e=`${t}`;return t&&(e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)),e},et.pounds=t=>{let e=`${t}`;return t&&(e=Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(t)),e},et.rupee=t=>{let e=`${t}`;return t&&(e=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)),e},et.euro=t=>{let e=`${t}`;return t&&(e=Intl.NumberFormat("en-DE",{style:"currency",currency:"EUR"}).format(t)),e};class st{constructor(t){this.isReloaded=!1,this.html=null,this.reload=(t=null)=>{if(this.input.target instanceof HTMLElement&&null!==this.html){var e="";"object"==typeof t&&"function"==typeof this.html&&(e=this.html("object"==typeof t?t:{}));var s=document.createRange().createContextualFragment(e);let n=s.querySelector("[partial]");n&&n.setAttribute("data-partial-id",this.input.id.toString());let i=this.input.target.parentElement;if(this.onDestroy(),this.input.target.replaceWith(s),i){let t=i.querySelector(`[data-partial-id="${this.input.id.toString()}"]`);t&&(this.input.target=t)}}this.isReloaded=!0,this.onReady()},this.onReady=()=>{},this.onDestroy=()=>{},this.enable=()=>{},this.disable=()=>{},this.input=t,"number"==typeof this.input.id&&this.input.target instanceof HTMLElement&&(this.input.target.dataset.partialId=this.input.id.toString())}}class nt extends HTMLElement{constructor(){super(),this.innerHtmlCallableFunction=null,this.attachShadowMode=()=>{var t;let e=null!==(t=this.shadowMode)&&void 0!==t?t:null;"open"===this.getAttribute("shadow")&&(e="open"),"closed"===this.getAttribute("shadow")&&(e="closed"),this.shadow=null!==e?this.attachShadow({mode:e}):null},this.setHtmlContent=t=>{t&&"string"==typeof t&&(null===this.shadowMode?this.innerHtmlContent=t:null!==this.shadowRoot?this.shadowRoot.innerHTML+=t:"function"==typeof t&&(this.innerHtmlCallableFunction=t))},this.appendHtmlNode=t=>{null===this.shadow?this.appendChild(t):this.shadow.appendChild(t)},this.setStyleContent=t=>{t&&(null===this.shadowRoot?this.innerHtmlContent+="<style>"+t.default.toString()+"</style>":null!==this.shadowRoot&&(this.shadowRoot.innerHTML+="<style>"+t.default.toString()+"</style>"))},this.setAttributes=t=>{if(null===t&&void 0!==this.attributesCollection&&(t=this.attributesCollection),null!==t&&Object.keys(t).length>0)for(let e in t){let s=t[e];"boolean"==typeof s?s=s?"true":"false":"object"==typeof s&&(s=JSON.stringify(s)),this.setAttribute(e,t[e])}},this.innerHTML=""}connectedCallback(){null!==this.innerHtmlCallableFunction&&(this.innerHTML=this.innerHtmlCallableFunction()),this.innerHtmlContent&&(this.innerHTML=this.innerHtmlContent)}static get observedAttributes(){return["name"]}attributeChangedCallback(t,e,s){console.log(t)}}nt.contentData=()=>{};class it{constructor(){if(this.current=null,this.get=()=>this.current,this.set=t=>{this.current=t},this.execute=()=>{if(null===this.current)throw new b("Pleae set a page before execute it");new x(this.current)},this.reload=()=>{},null===this.get())if(0===window.Crazyobject.registerPage.getAll().length){let t=e=>{let s=window.Crazyobject.registerPage.getAll().slice()[0],n={name:s.className,scriptLoaded:s.classReference,status:{scriptRegistered:!0,contentLoaded:!0,styleLoaded:!0,urlLoaded:!0,urlUpdated:!0}};new x(n),document.removeEventListener("onFirstPageRegistered",t)};document.addEventListener("onFirstPageRegistered",t)}else{let t=window.Crazyobject.registerPage.getAll()[0];new x({name:t.className,scriptLoaded:t,status:{scriptRegistered:!0,contentLoaded:!0,styleLoaded:!0,urlLoaded:!0,urlUpdated:!0}})}}}class rt{constructor(){this._past=[],this._future=[],this._collection=[],this.register=t=>{var e;if(!t.href)return;!("state"in t)&&t.state&&(t.state=null);let s=A.filterByKey(this._collection,"href",t.href);s.length&&A.filterByKey(s,"state",null!==(e=t.state)&&void 0!==e?e:null).length||this._collection.push(t)},this.addToBack=t=>{},this.addToFoward=t=>{},this.getBack=()=>null,this.getForward=()=>null,this._popStateInit=()=>{window.addEventListener("popstate",this._popStateEvent)},this._popStateEvent=t=>{t.defaultPrevented;let e=window.location.href;A.filterByKey(this._collection,"href",e)},this._popStateInit(),this._currentHref=window.location.href}}class ot{static render(t){const e=t=>"string"==typeof t&&(t.includes(",")||t.includes("\n")||t.includes('"'))?`"${t.replace(/"/g,'""')}"`:t;return[Object.keys(t[0]).join(","),...t.map((t=>Object.values(t).map(e).join(",")))].join("\n")}}ot.download=(t,e)=>{let s=ot.render(t);const n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),r=URL.createObjectURL(n);i.setAttribute("href",r),i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i)};class at{constructor(t){this.globalStore=null,this.systemStore=null,this.localStore=null,this.componentStore=null,this.databaseName="crazyFrontDatabase",this.globalStore=F.createInstance({name:this.databaseName,storeName:"globalStore",description:"Global state store"}),this.systemStore=F.createInstance({name:this.databaseName,storeName:"systemStore",description:"System state store"}),this.localStore=F.createInstance({name:this.databaseName,storeName:"localStore",description:"Local state store"}),this.componentStore=F.createInstance({name:this.databaseName,storeName:"componentStore",description:"Component state store"}),this.globalStore.ready().then((()=>this._setGlobalState(t))),this.systemStore.ready().then((()=>this._setSystemState()))}_setGlobalState(t){return(0,E.sH)(this,void 0,void 0,(function*(){if(t.globalStateCollection&&Object.keys(t.globalStateCollection).length)for(let e in t.globalStateCollection)yield this.setItemIfNot(e,t.globalStateCollection[e],this.globalStore)}))}_setSystemState(){return(0,E.sH)(this,void 0,void 0,(function*(){}))}setItemIfNot(t,e){return(0,E.sH)(this,arguments,void 0,(function*(t,e,s=this.globalStore){try{yield null==s?void 0:s.ready();return(yield null==s?void 0:s.getItem(t))||(yield null==s?void 0:s.setItem(t,e))}catch(t){throw console.error("Error in setItemIfNot:",t),t}}))}}class lt{constructor(){this._collection={},this.register=(t=null)=>{if(t&&Object.keys(t).length)for(let e in t)t[e].prototype instanceof st&&(this._collection[e]=t[e])},this.get=t=>{let e=null;return t&&Object.keys(this._collection).length&&t in this._collection&&(e=this._collection[t]),e},this.getAll=()=>this._collection,this.scan=t=>{let e,s,n,i=[],r=[];if(t instanceof Element)r.push(t);else if(Array.isArray(t)){if(t.length)for(let e of t)e instanceof Element&&r.push(e)}else if("string"==typeof t){let e=document.querySelectorAll(t);r=Array.from(e)}if(r.length)for(let t of r){let r=t.querySelectorAll("[partial]");r.length&&r.forEach((t=>{e=t.getAttribute("partial"),e&&(s=this.get(e)||window.Crazyobject.partials.get(e),s&&(n={name:e,target:t,callable:s,id:Date.now()},i.push(n)))}))}return i}}}class ut{constructor(t){this.registerGlobal=t=>{if(Object.keys(t).length>0)for(let e in t){let s=t[e];window.customElements.define(e,s)}},this.registerGlobal(t.globalComponentsCollection)}}class ct{constructor(){}}class dt{constructor(t){if(this._drivers={},this.setDriver=(t,e)=>{var s=0==Object.keys(this._drivers).length;e&&(this._drivers[e]=new t,Object.defineProperty(this,e,{get:()=>this._drivers[e],set:()=>{}}),s&&(this._drivers.default=new t,Object.defineProperty(this,"default",{get:()=>this._drivers.default,set:()=>{}})))},this.getDriver=t=>t&&Object.keys(this._drivers).length&&t in this._drivers?this[t]:null,this.parseErrors=(t,e)=>{if(Array.isArray(t)||(t=[t]),t.length)for(let e of t)this[e.type&&e.type in this.type?e.type:"error"](e)},this.news=(t,e)=>{let s=e&&e.driver?e.driver:"default",n=this.getDriver(s);n?n.news(t,e):(null==e?void 0:e.postAction)&&(null==e||e.postAction())},this.info=(t,e)=>{let s=e&&e.driver?e.driver:"default",n=this.getDriver(s);n?n.info(t,e):(null==e?void 0:e.postAction)&&(null==e||e.postAction())},this.success=(t,e)=>{let s=e&&e.driver?e.driver:"default",n=this.getDriver(s);n?n.success(t,e):(null==e?void 0:e.postAction)&&(null==e||e.postAction())},this.warning=(t,e)=>{let s=e&&e.driver?e.driver:"default",n=this.getDriver(s);n?n.warning(t,e):(null==e?void 0:e.postAction)&&(null==e||e.postAction())},this.error=(t,e)=>{let s=e&&e.driver?e.driver:"default",n=this.getDriver(s);n?n.error(t,e):(null==e?void 0:e.postAction)&&(null==e||e.postAction())},this.type=["news","info","success","warning","error"],Object.keys(t).length)for(let e in t)this.setDriver(t[e],e)}}var ht=s(3433);class pt{constructor(){this._previous=[],this._limit=50,this.set=t=>{let e={value:t,dateCreated:new Date,type:typeof t};this._previous.push(e),this._checkLimit()},this.get=(t=1)=>{let e;return t<=0&&(t=1),(t=t--)in this._previous.keys()&&(e=this._previous[t]),t},this.getAllPrevious=(t=null,e="newer")=>{let s=[];if(this._previous.length)for(let e of this._previous)t&&e.type!=t||s.push(e.value);return"older"==e&&s.reverse(),s},this.setLimit=(t=50)=>{t<0||(this._limit=t,this._checkLimit())},this.getLimit=()=>this._limit,this._checkLimit=()=>{this._previous.length>this._limit&&(this._previous=this._previous.slice(0,this._limit))}}}class gt{constructor(t=null){this._hash=null,this.get=()=>{let t;return this.isWatch()&&this.setFromRequest(),t=this._hash,t},this.set=t=>{let e=!1;return t&&(this._setIntoHistory(),this._hash=t,e=!0),e},this.setFromMetaTag=(t="application-hash")=>{let e=!1;if(t){const s=document.querySelector(`meta[name="${t}"]`);s instanceof HTMLMetaElement&&(e=this.set(s.content))}return e},this.setFromRequest=(...t)=>(0,E.sH)(this,[...t],void 0,(function*(t="/api/v2/Router/count"){if(t){let e=new V(t,{from:"internal",cache:!1});return yield e.fetch()}return null})),this.getAllFromHistory=()=>{let t=[];return null!==this._history&&(t=this._history.getAllPrevious()),t},this.isWatch=()=>{let t=!1;const e=document.querySelector('meta[name="application-watch"]');return e instanceof HTMLMetaElement&&e.content&&"true"==e.content&&(t=!0),t},this._getFromHistory=(t=1)=>{let e;if(t<=0)e=this._hash;else if(null!==this._history){let s=this._history.get(t);null!==s&&"string"!=typeof s||(e=s)}return e},this._setIntoHistory=()=>{let t=!0;return this._hash&&(null===this._history&&(this._history=new pt),t=this._history.set(this._hash)),t},t&&this.set(t),this._history=new pt}}class ft{constructor(t){this.forcedTheme=null,this.hashInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){if(this.hash=new gt,!this.hash.setFromMetaTag()&&null===(yield this.hash.setFromRequest()))throw new b("Can't retrieve the hash from back.");return t})),this.stateInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.state=new at(t),t})),this.alertInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return t.glabalAlerts&&(this.alert=new dt(t.glabalAlerts)),t})),this.partialsInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.partials=new lt,this.partials.register(t.globalPartials),t})),this.historyPageInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.historyPage=new rt,t})),this.registerPageInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.registerPage=new tt,window.Crazyobject.events.dispatch("onRegisterPageOpen"),t})),this.currentPageInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.currentPage=new it,t})),this.eventInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.events=new w,this.events.add("onRegisterPageOpen"),this.events.add("onFirstPageRegistered"),t})),this.consoleInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){return this.console=new ct,t})),this.websocketInit=t=>(0,E.sH)(this,void 0,void 0,(function*(){if(t.websocket){console.log(`[DEV] Weboscket init ${t.websocket}`);const e=new ht.A(t.websocket);e.addEventListener("message",(t=>{console.log("Websocket | Message from server:",t.data)})),e.addEventListener("open",(()=>{e.send("Websocket | Hello Server!")})),e.addEventListener("error",(t=>{console.error("Websocket | WebSocket error:",t)}))}return t})),this.register=t=>{var e=s=>{this.registerPage.register(t),document.removeEventListener("onRegisterPageOpen",e)};void 0!==window.Crazyobject.registerPage&&"register"in window.Crazyobject.registerPage&&"function"==typeof window.Crazyobject.registerPage.register?this.registerPage.register(t):document.addEventListener("onRegisterPageOpen",e)},this.getRegisteredPage=t=>null,this.GLOBAL_VARIABLE="Crazyobject",this.components=new ut(t),t.forceTheme&&(this.forcedTheme=t.forceTheme),this.colorSchema=new o,this.hashInit(t).then(this.stateInit).then(this.alertInit).then(this.partialsInit).then(this.historyPageInit).then(this.eventInit).then(this.registerPageInit).then(this.currentPageInit).then(this.consoleInit).then(this.websocketInit)}}var mt=s(176),vt=s.n(mt),yt=s(3704),bt=s.n(yt),wt=s(7860),_t=s.n(wt),St=s(4983),At=s(7805),Et=s(7383),Ct=s(8648),Tt=s(128),Rt=s(7443),Dt=s.n(Rt),Lt=s(4467),Pt=s.n(Lt);class Ot{constructor(t,e={}){this.scan=()=>{let t=0,e=H.getEl();if(null===e)return t;let s=e.querySelectorAll("form.crazy-form");if(t=s.length,t>0)for(let t=0;t<s.length;t++)s[t].addEventListener("submit",this.eventOnSubmit);return t},this.getForm=t=>{let e=null;if(t)return e;let s=document.querySelector(`form#${t}`);return null===s||(e=s),e},this.setValue=(t,e=null)=>{var s;let n,i,r=this._formEl.querySelectorAll("select[name], input[name]");if(r.length)for(let o=0;o<r.length;o++)"name"in r[o]&&""!==r[o].name&&(n=r[o].name,i=null!==(s=r[o].type)&&void 0!==s?s:"","type"in r[o].dataset&&r[o].dataset.type&&(i=r[o].dataset.type),Object.keys(t).includes(n)&&"function"==typeof this[`${i}Set`]&&this[`${i}Set`](r[o],t[n],e))},this.resetValue=(t=!1)=>{let e=this._formEl.querySelectorAll("select, input");if(e.length)for(let s=0;s<e.length;s++)if((e[s]instanceof HTMLSelectElement||e[s]instanceof HTMLInputElement)&&"name"in e[s]&&""!==e[s].name){let n=t?null:this._getDefaultOfInput(e[s]);if("tomselect"in e[s]){let t=e[s].tomselect;n?t.setValue(n):t.clear();continue}e[s].hasAttribute("value")&&(null===n?e[s].removeAttribute("value"):n&&(n instanceof Date?e[s]instanceof HTMLInputElement&&(e[s].valueAsDate=n):(e[s].setAttribute("value",n.toString()),e[s]instanceof HTMLInputElement&&(e[s].value=n.toString())))),e[s].hasAttribute("value_id")&&e[s].removeAttribute("value_id"),(e[s].hasAttribute("checked")||"checkbox"==e[s].type)&&(null===n?(e[s].removeAttribute("checked"),e[s].checked=!1):n&&e[s]instanceof HTMLInputElement&&(e[s].checked=n))}this._formEl.hasAttribute("value_id")&&this._formEl.removeAttribute("value")},this.getFormData=t=>{let e,s;if("string"==typeof t){if(e=this.getForm(t),null===e)throw new Error("Form do not exists")}else e=t;let n=new FormData,i=e.querySelectorAll("select[name], input[name]");if(i.length)for(let t=0;t<i.length;t++)"mutliple"in i[0]&&"boolean"==typeof i[0].mutliple&&i[0].mutliple||(s=this.extractKeyValue(i[t]),null!==s&&""!==s[0]&&n.append(s[0],s[1]));return n},this.eventOnSubmit=t=>{if(t.preventDefault(),null===t.target)return;let e=t.target,s=this.getFormData(e),n=e.attributes.getNamedItem("entity"),i=e.attributes.getNamedItem("value_id"),r=e.attributes.getNamedItem("post");null!==n&&null!==i?(this.lock(),this._onSubmitUpdate(n.value,i.value,s).then((t=>{if(t&&"errors"in t&&window.Crazyobject.alert.parseErrors(t.errors,{postAction:()=>{throw""}}),!("results"in t))throw this.unlock(),"";return t})).then((t=>{this._options.onSubmitDone&&this._options.onSubmitDone(t,n.value,s),this.unlock()}))):null!==n?(this.lock(),this._onSubmitCreate(n.value,s).then((t=>{if("errors"in t&&Array.isArray(t.errors)&&t.errors.length&&window.Crazyobject.alert.parseErrors(t.errors,{postAction:()=>{throw""}}),!("results"in t))throw this.unlock(),"";return t})).then((t=>{"results"in t&&t.results.length&&this.setValue(t.results[0],t.results[0]._id),this._options.onSubmitDone&&this._options.onSubmitDone(t,n.value,s),this.unlock()}))):null!==r?(this.lock(),this._onSubmitSend(r.value,s,"post").then((t=>{if("errors"in t&&Array.isArray(t.errors)&&t.errors.length&&window.Crazyobject.alert.parseErrors(t.errors,{postAction:()=>{throw""}}),!("results"in t))throw this.unlock(),"";return t})).then((t=>{console.log("youyou"),console.log(t),this.unlock()}))):(this.lock(),this._options.onSubmitDone&&this._options.onSubmitDone({},"",s),this.unlock())},this.eventOnReset=t=>{if(t.preventDefault(),this.lock(),t.currentTarget instanceof HTMLFormElement){let e=t.currentTarget,s=e.attributes.getNamedItem("value_id"),n=e.attributes.getNamedItem("entity");s&&n?this._onSubmiDelete(n.value,s.value).then((t=>{})).then((t=>{this._initOnReady()})):(this.resetValue(),this.unlock())}},this._onSubmitCreate=(t,e)=>(0,E.sH)(this,void 0,void 0,(function*(){return this._options.onBeforeSubmit&&this._options.onBeforeSubmit(t,e),new V(`/api/v2/${t}/create`,{method:"POST",header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1}).fetch(e)})),this._onSubmitUpdate=(t,e,s)=>(0,E.sH)(this,void 0,void 0,(function*(){return this._options.onBeforeSubmit&&this._options.onBeforeSubmit(t,s),new V(`/api/v2/${t}/update/${e}`,{method:"PUT",header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1,responseType:"json"}).fetch(s)})),this._onSubmiDelete=(t,e)=>(0,E.sH)(this,void 0,void 0,(function*(){if(this._options.onBeforeSubmit){let s=new FormData;s.append("id",e),this._options.onBeforeSubmit(t,s)}return new V(`/api/v2/${t}/delete/${e}`,{method:"DELETE",header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1}).fetch()})),this._onSubmitSend=(t,e,...s)=>(0,E.sH)(this,[t,e,...s],void 0,(function*(t,e,s="get"){return new V(t,{method:s,header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1}).fetch(e)})),this.lock=()=>{let t=this._formEl.querySelectorAll('select[name], input[name], button[type="submit"], button[type="reset"]');if(t.length)for(let e=0;e<t.length;e++)"INPUT"==t[e].tagName?t[e].setAttribute("readonly","loading"):"BUTTON"==t[e].tagName&&t[e].setAttribute("disabled","loading")},this.unlock=()=>{let t=this._formEl.querySelectorAll('select[name], input[name], button[type="submit"], button[type="reset"]');if(t.length)for(let e=0;e<t.length;e++)"INPUT"==t[e].tagName&&t[e].hasAttribute("readonly")&&"loading"==t[e].getAttribute("readonly")?t[e].removeAttribute("readonly"):("INPUT"==t[e].tagName&&t[e].hasAttribute("disabled")&&"loading"==t[e].getAttribute("disabled")||"BUTTON"==t[e].tagName&&t[e].hasAttribute("disabled")&&"loading"==t[e].getAttribute("disabled"))&&t[e].removeAttribute("disabled")},this._ingestForm=t=>(0,E.sH)(this,void 0,void 0,(function*(){let e;if("string"==typeof t){if(!t)throw new b("Form is not valid");if(e=H.getEl().querySelector(t),null===e)throw new b(`Form "#${t}" can't be found on the page`)}else{if("FORM"!==t.nodeName)throw new b("Element given in form instance is not a form node");e=t}this._formEl=e})),this._initForm=()=>(0,E.sH)(this,void 0,void 0,(function*(){let t=this._formEl.querySelectorAll("input, select");if(t.length)for(let e of Array.from(t))if(e instanceof HTMLInputElement||e instanceof HTMLSelectElement){e.classList.contains("validate")&&(yield this._initEventValidateOnInput(e,t)),1==e.required&&(yield this._initEventRequiredOnInput(e,t));let s="type"in e.dataset&&"string"==typeof e.dataset.type&&e.dataset.type?e.dataset.type:e.type;e.dataset.depends&&this._addDependencies(e,e.dataset.depends);let n=`_init${p.ucfirst(s.toLowerCase())}Input`;n in this?this[n](e):console.info(`Need to implement "${n}"`)}})),this._initOnReady=()=>(0,E.sH)(this,void 0,void 0,(function*(){let t=this._formEl.getAttribute("onready"),e=this._formEl.getAttribute("entity");if(e&&t&&/^last\/[0-9]+$/.test(t))new V(`/api/v2/${e}/${t}`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((t=>{"errors"in t&&Array.isArray(t.errors)&&t.errors.length&&alert("error"),this.unlock(),"results"in t&&t.results.length&&this.setValue(t.results[0],t.results[0]._id)}));else if(e&&t&&/^id\/[a-zA-Z0-9]+$/.test(t)){let s=t.replace("id/","");!this._formEl.hasAttribute("value_id")&&this._formEl.setAttribute("value_id",s.toString()),new V(`/api/v2/${e}/${s}`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((t=>{"errors"in t&&Array.isArray(t.errors)&&t.errors.length&&alert("error"),this.unlock(),"results"in t&&t.results.length&&this.setValue(t.results[0],t.results[0]._id)}))}else this.unlock()})),this._initEventOnSubmit=()=>(0,E.sH)(this,void 0,void 0,(function*(){this._formEl.addEventListener("submit",this.eventOnSubmit)})),this._initEventOnReset=()=>(0,E.sH)(this,void 0,void 0,(function*(){this._formEl.addEventListener("reset",this.eventOnReset)})),this._initEventValidateOnInput=(t,e)=>(0,E.sH)(this,void 0,void 0,(function*(){t.addEventListener("invalid",(s=>{if(s.preventDefault(),s.target&&s.target instanceof HTMLElement&&s.target.closest("div.input-field")){let n=s.target.closest("div.input-field");null==n||n.classList.add("error");let i=null==n?void 0:n.querySelector("div.suffix");i&&i.classList.replace("suffix","suffix-hidden");let r=this._newSuffixErrorEl();t.before(r);let o=null==n?void 0:n.querySelector("span.supporting-text");o&&o.classList.replace("supporting-text","suffix-hidden");let a=this._newSupportingTextErrorEl(t,e);null==n||n.append(a)}}))})),this._initEventRequiredOnInput=(t,e)=>(0,E.sH)(this,void 0,void 0,(function*(){if(t instanceof HTMLInputElement){let e=t=>{t.preventDefault(),console.log(t)},s=null,n=500;t.addEventListener("keyup",(t=>{null!==s&&clearTimeout(s),s=setTimeout((()=>{e(t)}),n)}))}})),this.extractKeyValue=t=>{let e=null,s=null;return"type"in t&&t.type&&"string"==typeof t.type&&(s=t.type),"type"in t.dataset&&t.dataset.type&&"string"==typeof t.dataset.type&&(s=t.dataset.type),"string"==typeof s&&"function"==typeof this[`${s}Retrieve`]&&(e=this[`${s}Retrieve`](t)),e},this.textRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.checkboxRetrieve=t=>{let e=null;if("value"in t&&"name"in t&&t instanceof HTMLInputElement){let s="",n=t.name;s=t.checked?"true":"false",e=[n,s]}return e},this.selectRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.dateRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.numberRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.emailRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.colorRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.passwordRetrieve=t=>{let e=null;return"value"in t&&"name"in t&&(e=[t.name,t.value]),e},this.fileRetrieve=t=>{var e,s;let n=null;if("name"in t&&t instanceof HTMLInputElement&&(null===(e=t.files)||void 0===e?void 0:e.length)){let e=t.name,s=t.files;n=[e,Array.from(s).at(0)]}else if(t.dataset.pondId&&t instanceof HTMLInputElement){let e=null===(s=t.closest("form"))||void 0===s?void 0:s.querySelector(`div#${t.dataset.pondId}`);if(e instanceof HTMLDivElement){let s=t.name,i=Tt.find(e).getFiles();n=[s,i.length?i[0].file:""]}}return n},this.textSet=(t,e,s)=>{"INPUT"==t.tagName&&null!==e&&(t.setAttribute("value",e),"string"==typeof s?t.setAttribute("value_id",s):null!==s&&Object.keys(s).includes(t.name)?t.setAttribute("value_id",s[t.name]):s&&"object"==typeof s&&"$oid"in s&&t.setAttribute("value_id",s.$oid))},this.passwordSet=(t,e,s)=>{"INPUT"==t.tagName&&null!==e&&(t.setAttribute("value",e),this._setID(s,t))},this.colorSet=(t,e,s)=>{"INPUT"==t.tagName&&null!==e&&(t.setAttribute("value",e),t.dispatchEvent(new Event("change")),this._setID(s,t))},this.selectSet=(t,e,s)=>{["INPUT","SELECT"].includes(t.tagName)&&null!==e&&("tomselect"in t&&t.tomselect instanceof Pt()?(t.tomselect.setValue(e),this._setID(s,t)):(t.setAttribute("value",e),t.dispatchEvent(new Event("change")),this._setID(s,t)))},this.numberSet=(t,e,s)=>{["INPUT","SELECT"].includes(t.tagName)&&null!==e&&(t.setAttribute("value",e),t.dispatchEvent(new Event("change")),this._setID(s,t))},this._getDefaultOfInput=t=>{let e=null,s=t.type;"type"in t.dataset&&t.dataset.type&&(s=t.dataset.type);let n=t.name,i=n&&"[]"==n.slice(-2);if(t instanceof HTMLInputElement){if(t.hasAttribute("default")&&"string"==typeof t.getAttribute("default"))if(e=t.getAttribute("default"),i||"checkbox"!=s){if(!i&&["range","number"].includes(s))e=Number(e);else if(!i&&["date"].includes(s))e=new Date(e);else if("radio"===s){let s=t.closest(`[data-radio-name="${n.replace("[]","")}"]`);if(s){let t=s.querySelectorAll(`input[name="${n}"]`);(null==t?void 0:t.length)&&t.forEach((t=>{t instanceof HTMLInputElement&&t.hasAttribute("default")&&t.hasAttribute("value")&&(i?(Array.isArray(e)||(e=[]),e.push(t.value)):e=t.value)}))}}else if(!i&&["date"].includes(s))e=new Date(e);else if("select"===s){let s=t.querySelectorAll("option");(null==s?void 0:s.length)&&s.forEach((t=>{t instanceof HTMLOptionElement&&t.hasAttribute("default")&&t.hasAttribute("value")&&(i?(Array.isArray(e)||(e=[]),e.push(t.value)):e=t.value)})),p.isJson(e)&&(e=JSON.parse(e))}}else e=!!["1","true","on","yes"].includes(e)}else if(t instanceof HTMLSelectElement&&["select","select-multiple","select-one"].includes(s))if(t.hasAttribute("default"))e=t.getAttribute("default");else if(t.querySelectorAll("option").length){let s=t.querySelectorAll("option"),n=null;(null==s?void 0:s.length)&&s.forEach((t=>{t instanceof HTMLOptionElement&&t.hasAttribute("default")&&t.hasAttribute("value")?i?(Array.isArray(e)||(e=[]),e.push(t.value)):e=t.value:!t.hasAttribute("value")&&t.innerText&&null===n&&(n=t.innerText)})),e&&null!==e||(e=n)}return e},this._initColorInput=t=>{if(t instanceof HTMLInputElement&&"colorPicker"in t.dataset&&"pickr"==t.dataset.colorPicker){let n=document.createElement("div");t.after(n),t.classList.add("hide");let i={el:n,theme:"colorTheme"in t.dataset&&["classic","monolith","nano"].includes(t.dataset.colorTheme)?t.dataset.colorTheme:"classic",lockOpacity:!(!("colorOpacity"in t.dataset)||!["false","0","","null"].includes(t.dataset.colorOpacity)),swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!0,hsva:!0,cmyk:!0,input:!0,clear:!0,save:!0}}};if(t.hasAttribute("value")){var e=t.getAttribute("value");if(e&&"randomHex()"!=e)i.default=e;else if(t.hasAttribute("default")){var s=t.getAttribute("default");if("randomHex()"===s){const t=Math.floor(16777216*Math.random());i.default=`#${t.toString(16).padStart(6,"0")}`}else s&&(i.default=s)}}const r=Dt().create(i);r.on("save",((e,s)=>{let n=e.toHEXA();t.value=n,s.hide()})),t.addEventListener("change",(t=>{let e=t.currentTarget;if(e instanceof HTMLInputElement){let t=e.value;r.setColor(t)}}))}},this._initNumberInput=t=>{var e,s,n;let i={mask:Number,skipInvalid:!0,thousandsSeparator:" ",radix:".",mapToRadix:[","],autofix:!0};t.hasAttribute("max")&&t.getAttribute("max")&&(i.max=Number(t.getAttribute("max"))),t.hasAttribute("min")&&t.getAttribute("min")&&(i.min=Number(t.getAttribute("min"))),t.hasAttribute("step")&&(null===(e=t.getAttribute("step"))||void 0===e?void 0:e.includes("."))&&(i.scale=null===(n=null===(s=t.getAttribute("step"))||void 0===s?void 0:s.split(".").at(-1))||void 0===n?void 0:n.length),(0,St.Ay)(t,i)},this._initDateInput=t=>{if(t instanceof HTMLInputElement&&"datePicker"in t.dataset&&"easepick"==t.dataset.datePicker){let e={element:t,css:["https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.css"],zIndex:1,plugins:[At.Q],AmpPlugin:{dropdown:{months:!0,years:!0}}};"dateFormat"in t.dataset&&t.dataset.dateFormat&&(e.format=t.dataset.dateFormat),"dateLang"in t.dataset&&t.dataset.dateLang&&(e.lang=t.dataset.dateLang),!t.required&&e.AmpPlugin&&(e.AmpPlugin.resetButton=!0),new Et.iT.create(e),console.log("datepicker"),console.log(t)}},this._initPasswordInput=t=>{if(t instanceof HTMLInputElement&&t.dataset&&"passwordVisible"in t.dataset&&t.parentNode){let e=t.dataset.passwordVisible,s=t.parentNode.querySelector("div.suffix");"string"==typeof e&&s&&s.addEventListener("click",(e=>{let n=t.dataset.passwordVisible;if(e.currentTarget&&e.currentTarget instanceof HTMLDivElement){t.type="0"==n?"text":"password";let e=s&&s.querySelector("i");e&&e instanceof HTMLElement&&(e.innerHTML="0"==n?"visibility_off":"visibility"),t.dataset.passwordVisible="0"==n?"1":"0"}}),!0)}},this._initSelectInput=t=>{if(t instanceof HTMLInputElement||t instanceof HTMLSelectElement){let e={persist:!1,createOnBlur:!0,create:!1,dropdownParent:"body",plugins:{}};t.dataset&&"selectClear"in t.dataset&&(e.plugins.clear_button={title:t.dataset.selectClear}),(t.dataset&&"selectTag"in t.dataset||"multiple"in t&&t.multiple)&&(e.plugins.caret_position={},e.plugins.drag_drop={});let s=null;if(t.dataset&&"selectRemote"in t.dataset&&t.dataset.selectRemote&&p.isJson(t.dataset.selectRemote)){let i=JSON.parse(t.dataset.selectRemote);e.valueField=i.value,i.label.includes("{{")&&i.label.includes("}}")?e.render={option:(t,e)=>`<div>${i.label.replace(/\{\{(.*?)\}\}/g,((s,n)=>e(t[n])))}</div>`,item:(t,e)=>`<div>${i.label.replace(/\{\{(.*?)\}\}/g,((s,n)=>e(t[n])))}</div>`}:e.labelField=i.label,e.searchField=i.search,e.load=(t,e)=>{new V(i.url,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((t=>{if("string"==typeof i.dataKey&&i.dataKey&&(t.results=i.dataKey.split(".").reduce(((t,e)=>t&&t[e]),t.results)),"results"in t&&Array.isArray(t.results)&&t.results.length)for(let e in t.results)t.results[e]=d.flatten(t.results[e],"",".");e(t.results)}))},s=()=>{new V(i.url,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((t=>{if("string"==typeof i.dataKey&&i.dataKey&&(t.results=i.dataKey.split(".").reduce(((t,e)=>t&&t[e]),t.results)),"results"in t&&Array.isArray(t.results)&&t.results.length)for(let e in t.results)t.results[e]=d.flatten(t.results[e],"",".");n.addOptions(t.results)})).then((()=>{if(t.hasAttribute("default")){let e=t.getAttribute("default");"string"==typeof e&&n.setValue(e)}}))}}let n=new(Pt())(t,e);null!==s&&"function"==typeof s&&s()}},this._initFileInput=t=>{if(t instanceof HTMLInputElement&&t.classList.contains("filepond")){"string"==typeof t.dataset.filePreview&&Tt.registerPlugin(_t()),Tt.registerPlugin(vt());let e={oninit:()=>{if(s.element){s.element.classList.add("mb-0","mt-6");let t=s.element.querySelectorAll(".filepond--credits");null==t||t.forEach((t=>t.remove()));let e=s.element.querySelector("input[name]");e instanceof HTMLInputElement&&(s.id&&(e.dataset.pondId=s.id),e.dataset.type="file")}}};"string"==typeof t.dataset.maxFiles&&(e.maxFiles=Number(t.dataset.maxFiles)),t.multiple&&(e.allowReorder=!0),t.accept&&Tt.registerPlugin(bt()),"string"==typeof t.dataset.fileLocale&&["fr-fr","fr_FR"].includes(t.dataset.fileLocale)&&(e=Object.assign(Object.assign({},e),Ct.A));let s=Tt.create(t,e);s.on("updatefiles",(()=>{var t;let e=null===(t=s.element)||void 0===t?void 0:t.querySelector("input[name]");e instanceof HTMLInputElement&&(s.id&&(e.dataset.pondId=s.id),e.dataset.type="file")}))}},this._addDependencies=(t,e)=>{if("string"==typeof e&&(e=e.split(",")),(e=[...new Set(e)]).length){let s=t.dataset.type?t.dataset.type:t.type;if(s)for(let n of e){let e=n?this._formEl.querySelector(`input[name="${n}"], select[name="${n}"`):null;if(e){let n=e.dataset.type?e.dataset.type:e.type;if(n&&"function"==typeof this[`${n}Retrieve`]){let i=this[`${n}Retrieve`];e.addEventListener("change",(e=>{let n=e.currentTarget;if(n instanceof HTMLSelectElement||n instanceof HTMLInputElement){let e=i(n);if(t.disabled&&t.hasAttribute("disabled")&&"depends"!=t.getAttribute("disabled"))return;if(null===e)return void(t.disabled&&(t.disabled=!1,t.removeAttribute("disabled")));2!==e.length||"checkbox"===s&&0==l.check(e[1])?(t.disabled=!0,t.setAttribute("disabled","depends"),t instanceof HTMLInputElement&&"checkbox"===s&&(t.checked=!1)):t.disabled=!1}}))}}}}},this._newSuffixErrorEl=(t="material-icons",e="error")=>{let s=document.createElement("i");s.classList.add(t||"material-icons"),s.innerText=e||"error";let n=document.createElement("div");return n.classList.add("suffix"),n.appendChild(s),n},this._newSupportingTextErrorEl=(t,e)=>{let s=document.createElement("span");return s.classList.add("supporting-text"),s.innerText=t.dataset&&"error"in t.dataset&&t.dataset.error?t.dataset.error:"Invalid entry",s},this._options=e,this._ingestForm(t).then(this._initForm).then(this._initOnReady).then(this._initEventOnSubmit).then(this._initEventOnReset)}_setID(t,e){let s,n=[];"string"==typeof t?e.setAttribute("value_id",t):null!==t&&Object.keys(t).includes(e.name)?e.setAttribute("value_id",t[e.name]):t&&"object"==typeof t&&"$oid"in t&&e.setAttribute("value_id",t.$oid);let i=this._formEl.querySelectorAll("select, input");for(let t=0;t<i.length;t++){if(s=i[t].getAttribute("value_id"),null===s)return;n.includes(s)||n.push(s)}if(!(n.length>1)){for(let t=0;t<i.length;t++)i[t].removeAttribute("value_id");this._formEl.setAttribute("value_id",n.pop())}}}Ot.isHTMLFormElement=t=>t instanceof HTMLFormElement;const jt=Ot}},t=>{t.O(0,[96],(()=>t(t.s=9968))),t.O()}]);