(self.webpackChunkcrazy_demo=self.webpackChunkcrazy_demo||[]).push([[449],{8075:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(1601),s=n.n(i),r=n(6314),a=n.n(r)()(s());a.push([e.id,"#crazy-left-navigation-rail{z-index:1100;width:88px;height:100vh}#crazy-left-navigation-rail .crazy-left-navigation-rail-always-visible{position:relative;z-index:1200;background:var(--md-sys-color-tertiary-container);height:100vh;overflow:auto}#crazy-left-navigation-rail .crazy-left-navigation-rail-always-visible nav{height:auto;padding-top:20px;background:unset;box-shadow:unset;display:flex;flex-direction:column;align-items:center}#crazy-left-navigation-rail .crazy-left-navigation-rail-always-visible nav.justify-top{justify-content:flex-start}#crazy-left-navigation-rail .crazy-left-navigation-rail-always-visible nav.justify-bottom{justify-content:flex-end}#crazy-left-navigation-rail .crazy-left-navigation-rail-always-visible nav.justify-center{justify-content:center}#crazy-left-navigation-rail .crazy-left-navigation-rail-always-visible nav a{z-index:1300;margin-bottom:15px}#crazy-left-navigation-rail .crazy-left-navigation-rail-collapsible{z-index:1000;position:absolute;top:0;left:-142px;width:230px;min-height:100vh}#crazy-content{height:100vh;width:min-content;overflow:auto}",""]);const o=a},9344:(e,t,n)=>{var i=n(3633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,s,r){var a;return'<div id="crazy-root" descriptive-id="" class="screen-fit-min-y screen-flex screen-center">\n\n'+(null!=(a=e.invokePartial(n(1354),t,{name:"preloader_linear_indeterminate",data:r,indent:"    ",helpers:i,partials:s,decorators:e.decorators}))?a:"")+"\n"+(null!=(a=e.invokePartial(n(8910),t,{name:"navigation",data:r,indent:"    ",helpers:i,partials:s,decorators:e.decorators}))?a:"")+'\n    <div id="crazy-content" descriptive-id="" class="element-flex-grow-1 pb-5">\n\n        <div class="row container">\n\n            <div class="col s12 m10 row">\n\n                <div class="col s12">\n                    <h1>Crazy Button</h1>\n                </div>\n\n                <div id="btn-floating-round" class="section col s6 m6 s12 row scrollspy">\n\n                    <div class="col s12">\n                        <h5>Btn Floating Round</h5>\n                    </div>\n\n                    <div class="col s12 screen-flex screen-bottom-y screen-center-distributed-x screen-wrap">\n\n                        <regular-btn class="mb-5 mr-5" label="Floating small round" color-primary="orange" size="small" depth="1" shape="box" type="floating"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating normal round" color-primary="red" size="normal" depth="1" shape="box" type="floating"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating large round" color-primary="blue" size="large" depth="1" shape="box" type="floating"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating extra-large round" color-primary="green" size="extra-large" depth="1" shape="box" type="floating"></regular-btn>\n\n                    </div>\n\n                </div>\n\n                <div id="btn-floating-box" class="section col s6 m6 s12 row scrollspy">\n\n                    <div class="col s12">\n                        <h5>Btn Floating Box</h5>\n                    </div>\n\n                    <div class="col s12 screen-flex screen-bottom-y screen-center-distributed-x screen-wrap">\n\n                        <regular-btn class="mb-5 mr-5" label="Floating small box" color-primary="orange" size="small" depth="1" shape="round" type="floating"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating normal box" color-primary="red" size="normal" depth="1" shape="round" type="floating"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating large box" color-primary="blue" size="large" depth="1" shape="round" type="floating"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating extra-large box" color-primary="green" size="extra-large" depth="1" shape="round" type="floating"></regular-btn>\n\n                    </div>\n\n                </div>\n\n                <div id="btn-extended-box" class="section col m12 s12 row scrollspy">\n\n                    <div class="col s12">\n                        <h5>Btn Extended Box</h5>\n                    </div>\n\n                    <div class="col s12 screen-flex screen-bottom-y screen-center-distributed-x screen-wrap">\n\n                        <regular-btn class="mb-5 mr-5" label="Floating small" color-primary="orange" size="small" depth="1" shape="box" type="extended"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating normal" color-primary="red" size="normal" depth="1" shape="box" type="extended"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating large" color-primary="blue" size="large" depth="1" shape="box" type="extended"></regular-btn>\n                        \n                        <regular-btn class="mb-5 mr-5" label="Floating extra-large" color-primary="green" size="extra-large" depth="1" shape="box" type="extended"></regular-btn>\n\n                    </div>\n\n                </div>\n\n                <div id="btn-extended-round" class="section col m12 s12 row scrollspy">\n\n                    <div class="col s12">\n                        <h5>Btn Extended Round</h5>\n                    </div>\n\n                    <div class="col s12 screen-flex screen-bottom-y screen-center-distributed-x screen-wrap">\n\n                        <regular-btn class="mb-5 mr-5" label="Floating small" color-primary="orange" size="small" depth="1" shape="round" type="extended"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating normal" color-primary="red" size="normal" depth="1" shape="round" type="extended"></regular-btn>\n\n                        <regular-btn class="mb-5 mr-5" label="Floating large" color-primary="blue" size="large" depth="1" shape="round" type="extended"></regular-btn>\n                        \n                        <regular-btn class="mb-5 mr-5" label="Floating extra-large" color-primary="green" size="extra-large" depth="1" shape="round" type="extended"></regular-btn>\n\n                    </div>\n\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>\n\n</div>\n\n\n'},usePartial:!0,useData:!0})},8910:(e,t,n)=>{var i=n(3633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,s){return'<div\n    id="crazy-left-navigation-rail" \n    descriptive-id=""\n    class=""\n    partial="navigation"\n>\n\n    <div class="crazy-left-navigation-rail-always-visible">\n\n        <nav>\n\n            <regular-btn data-redirect-name="Home" label="Hello world !" class="mb-4" size="large" shape="box" depth="1" icon-text="waving_hand"></regular-btn>\n\n            <regular-btn data-redirect-name="Button" label="Button" class="mb-4" size="large" shape="box" depth="1" icon-text="adjust"></regular-btn>\n\n            <regular-btn data-redirect-name="Progressbar" label="Progress Bar" class="mb-4" size="large" shape="box" depth="1" icon-text="remove"></regular-btn>\n\n            <regular-btn data-redirect-name="Form" label="Form" class="mb-4" size="large" shape="box" depth="1" icon-text="checklist"></regular-btn>\n\n        </nav>\n\n    </div>\n\n    <div class="crazy-left-navigation-rail-collapsible">\n\n\n    </div>\n\n</div>'},useData:!0})},1354:(e,t,n)=>{var i=n(3633);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,s){return'<div \n  class="progress mt-0 mb-0"\n  partial="preloader_linear_indeterminate"\n  disabled\n>\n    <div class="indeterminate"></div>\n</div>'},useData:!0})},6624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(5072),s=n.n(i),r=n(7825),a=n.n(r),o=n(7659),l=n.n(o),u=n(5056),c=n.n(u),d=n(540),h=n.n(d),p=n(1113),g=n.n(p),f=n(8075),m={};m.styleTagTransform=g(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),s()(f.default,m);const v=f.default&&f.default.locals?f.default.locals:void 0},2196:(e,t,n)=>{"use strict";var i=n(2958);const s=n(8075),r=n(9344);n(6624);class a extends i.JU{constructor(e){super(e),this.onReady=()=>{console.log("hello Button")},this.onReady()}}a.className="Button",a.html=r,a.css=s,window.Crazyobject.register(a)},2958:(e,t,n)=>{"use strict";n.d(t,{$N:()=>v,YN:()=>X,Dd:()=>fe,JU:()=>G,pL:()=>ne,lV:()=>Pe,Tv:()=>N});class i{}i.check=e=>{let t=!1;const n=e.trim(),i=n.startsWith("{")&&n.endsWith("}"),s=n.startsWith("[")&&n.endsWith("]"),r=i&&n.includes(":"),a=s&&n.includes(","),o=n.length>2;return t=i&&r&&o||s&&a&&o,t},i.encode=e=>{let t="";return null===e?t="None":"boolean"==typeof e?t=e?"True":"False":"number"==typeof e?t=JSON.stringify(t):"string"==typeof e?t=`'${e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`:Array.isArray(e)?t=`[${e.map((e=>i.encode(e))).join(", ")}]`:"object"==typeof e&&(t=`{${Object.entries(e).map((([e,t])=>{const n=e.replace(/\\/g,"\\\\").replace(/'/g,"\\'");return`${"string"==typeof n?`'${n}'`:n}: ${i.encode(t)}`})).join(", ")}}`),t},i.decode=e=>{let t="";if(i.check(e)){let n=e.replace(/\\'/g,"@@@@@@@@");n=n.replace(/'[^']*\"[^']*'/g,(e=>e.replace(/"/g,'\\"')));let i=n.replace(/([{,]\s*)'([^']+)':\s*'([^']*)'/g,'$1"$2": "$3"').replace(/([{,]\s*)'([^']+)':\s*([^'{][^,]*)/g,'$1"$2": $3').replace(/'/g,'"').replace(/\\\\/g,"\\\\");i=i.replace(/@@@@@@@@/g,"'"),i=i.replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false"),t=JSON.parse(i)}return t};class s{}s.toUTCString=e=>{const t=e=>e<10?"0"+e:e;return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+" "+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+" UTC"},s.toISOString=e=>{const t=e=>e<10?"0"+e:e;return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},s.toYYYYMMDDFormat=(e,t="/")=>`${e.getFullYear()}${t}${String(e.getMonth()+1).padStart(2,"0")}${t}${String(e.getDate()).padStart(2,"0")}`,s.getNextDay=e=>{if(e<1||e>7)throw new Error("Invalid weekday number. Please enter a number between 1 (Monday) and 7 (Sunday).");const t=new Date,n=(e-t.getUTCDay()+7)%7;return t.setUTCDate(t.getUTCDate()+n),`${t.getUTCFullYear()}/${(t.getUTCMonth()+1).toString().padStart(2,"0")}/${t.getUTCDate().toString().padStart(2,"0")}`},s.getTodayDateYYMMDD=()=>{const e=new Date;return`${e.getFullYear().toString().slice(-2)}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`},s.getTodayDateYYYYMMDD=()=>{const e=new Date;return`${e.getFullYear().toString()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}`},s.getTodayDateYYYY_MM_DD=()=>{const e=new Date;return`${e.getFullYear().toString()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`},s.convertDateFormat=e=>{let t="";if(!e)return t;const n=new Date(e);return t=`${n.getMonth()+1}/${n.getDate()}/${n.getFullYear()}`,t},s.getTodayDate=(e="-")=>{const t=new Date;return`${t.getFullYear()}${e}${(t.getMonth()+1).toString().padStart(2,"0")}${e}${t.getDate().toString().padStart(2,"0")}`},s.getFirstDateOfWeek=(e,t="YYYY-MM-DD")=>{const n=new Date,i=(n.getDay()+6)%7,r=new Date(n);r.setDate(n.getDate()-i);const a=new Date(r);return a.setDate(r.getDate()+7*e),s.formatDate(a,t)},s.isDateInCurrentWeek=e=>{"string"==typeof e&&(e=new Date(e));const t=new Date,n=t.getDay(),i=new Date(t),s=new Date(t);return i.setDate(t.getDate()-(0===n?6:n-1)),s.setDate(i.getDate()+6),i.setHours(0,0,0,0),s.setHours(23,59,59,999),e>=i&&e<=s},s.isDateInNextWeek=e=>{"string"==typeof e&&(e=new Date(e));const t=new Date,n=t.getDay(),i=new Date(t),s=new Date(t);return i.setDate(t.getDate()+(0===n?1:8-n)),s.setDate(i.getDate()+6),i.setHours(0,0,0,0),s.setHours(23,59,59,999),e>=i&&e<=s},s.isValidDate=e=>!isNaN(Date.parse(e)),s.formatDate=(e,t)=>{const n=e.getFullYear(),i=("0"+(e.getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2);switch(t){case"YYYY-MM-DD":return`${n}-${i}-${s}`;case"MM/DD/YY":return`${i}/${s}/${n.toString().slice(-2)}`;case"DD/MM/YYYY":return`${s}/${i}/${n}`;default:throw new Error("Unsupported date format")}},s.getAllDaysBetween=(e,t)=>{const n=[],i=e=>(e.setHours(0,0,0,0),e);let s=i(new Date(e));const r=i(new Date(t));for(;s<=r;)n.push(new Date(s)),s.setDate(s.getDate()+1);return n},s.isWeekend=e=>{const t=e.getDay();return 0===t||6===t},s.mergeDate=(e,t,n)=>{"string"==typeof e&&(e=Number(e)),"string"==typeof t&&(t=Number(t)),"string"==typeof n&&(n=Number(n));const i=new Date(e,t-1,n);if(i.getFullYear()!==e||i.getMonth()+1!==t||i.getDate()!==n)throw new Error("Invalid date provided.");return`${e.toString().padStart(4,"0")}-${t.toString().padStart(2,"0")}-${n.toString().padStart(2,"0")}`},s.explodeDate=e=>{const t=e.split("-");if(3!==t.length)throw new Error("Invalid date format. Expected YYYY-MM-DD.");return t.map((e=>parseInt(e,10)))},s.toLocalFormat=(e,t)=>{let n=e;if("string"==typeof e&&e&&"string"==typeof t&&t){const i=new Date(e),s={en_US:{weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},fr_FR:{weekdays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]}},r=s[t]||s.en_US;n=`${r.weekdays[i.getDay()]} ${i.getDate()} ${r.months[i.getMonth()]}`}return n};class r{constructor(){let e=r.getTheme();"loading"!==document.readyState?r.setTheme(e):document.addEventListener("DOMContentLoaded",(()=>{r.setTheme(e)})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>e.matches&&r.setTheme(r.get()))),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",(e=>e.matches&&r.setTheme(r.get())))}}r.get=()=>{var e,t,n;return(null===(e=window.Crazyobject)||void 0===e?void 0:e.forcedTheme)?window.Crazyobject.forcedTheme:(null===(n=null===(t=null===window||void 0===window?void 0:window.matchMedia)||void 0===t?void 0:t.call(window,"(prefers-color-scheme:dark)"))||void 0===n?void 0:n.matches)?"dark":"light"},r.setTheme=(e,t=!1)=>{document.documentElement.setAttribute("theme",e),"localStorage"in window&&t&&window.localStorage.setItem("crazy-theme",e)},r.getTheme=(e=!1)=>{let t=r.get();if("localStorage"in window&&e){let e=localStorage.getItem("crazy-theme")||r.get();e in["dark","light"]&&(t=e)}return t},r.rgbToHex=(e,t,n)=>"#"+r.componentToHex(e)+r.componentToHex(t)+r.componentToHex(n),r.createVerticalGradient=(e,t=!0)=>t?`background: linear-gradient(to bottom, ${e.map(((t,n)=>`rgba(${t}) ${n/(e.length-1)*100}%`)).join(", ")});`:`linear-gradient(to bottom, ${e.map(((t,n)=>{const i=n/e.length*100;return`rgba(${t}) ${i}%, rgba(${t}) ${i+100/e.length}%`})).join(", ")});`,r.componentToHex=e=>{var t=e.toString(16);return 1==t.length?"0"+t:t};const a=r;class o{}o.check=e=>{let t=!0;return!1!==e&&null!=e&&0!==e&&""!==e&&"false"!==e&&"0"!==e&&"off"!==e||(t=!1),t};const l=o;var u;class c{}u=c,c.filterByKey=(e=[],t,n)=>e.filter((e=>e[t]==n)),c.filterByKeyMD=(e=[],t,n)=>e.filter((e=>u.getNestedValue(e,t.split("."))==n)),c.removeObjectsByKeyValue=(e,t,n)=>e.filter((e=>u.getNestedValue(e,t.split("."))!==n)),c.flatten=(e,t=".",n="",i={})=>{for(const[s,r]of Object.entries(e)){const e=n?`${n}${t}${s}`:s;"object"!=typeof r||null===r||Array.isArray(r)?i[e]=r:u.flatten(r,t,e,i)}return i},c.unflatten=(e,t=".")=>{const n={};for(const[i,s]of Object.entries(e)){const e=i.split(t);let r=n;for(let t=0;t<e.length;t++){const n=e[t];t===e.length-1?r[n]=s:r[n]=r[n]||{},r=r[n]}}return n},c.equal=(e,t)=>{if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t||null===e||null===t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>u.equal(e,t[n])));if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(t)){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>u.equal(e[n],t[n])))}return!1},c.getNestedValue=(e,t)=>t.reduce(((e,t)=>e&&e[t]),e);const d=c;var h;class p{}h=p,p.convertToNestedObject=(e,t=".")=>{const n={};for(const i in e)if(e.hasOwnProperty(i))if(i.includes(t)){const s=i.split(t);let r=n;for(let t=0;t<s.length;t++)t===s.length-1?r[s[t]]=e[i]:(r[s[t]]=r[s[t]]||{},r=r[s[t]])}else"object"==typeof e[i]&&null!==e[i]?n[i]=h.convertToNestedObject(e[i],t):n[i]=e[i];return n},p.flatten=(e={},t="",n=".")=>{const i={};for(const[s,r]of Object.entries(e)){const e=t?`${t}${n}${s}`:s;"object"!=typeof r||null===r||Array.isArray(r)?i[e]=r:Object.assign(i,h.flatten(r,e,n))}return i},p.unflatten=(e={},t=".")=>{const n={};for(const[i,s]of Object.entries(e)){const e=i.split(t);let r=n;for(let t=0;t<e.length;t++){const n=e[t];r[n]&&"object"==typeof r[n]||(r[n]={}),t===e.length-1?r[n]=s:r=r[n]}}return n},p.deepMergeOld=(e=!1,...t)=>{const n={};for(const i of t)for(const[t,s]of Object.entries(i))"object"!=typeof s||Array.isArray(s)||null===s?e&&void 0!==n[t]?n[t]=Array.isArray(n[t])?[...n[t],s]:[n[t],s]:n[t]=s:n[t]=h.deepMerge(e,n[t]||{},s);return n},p.deepMerge=(e,...t)=>{const n=(t,i)=>{if(null==i)return t;if(Array.isArray(i))Array.isArray(t)||(t=[]),i.forEach(((e,i)=>{t[i]=n(t[i],e)}));else if("object"==typeof i){("object"!=typeof t||Array.isArray(t))&&(t={});for(const s of Object.keys(i))void 0!==t[s]||e?t[s]=n(t[s],i[s]):t[s]=i[s]}else(e||void 0!==t)&&(t=i);return t};return t.reduce(((e,t)=>n(e,t)),{})},p.deepMergeWithSeparator=(e,t,...n)=>{const i=(n,s)=>{if(null==s)return n;if(Array.isArray(s))Array.isArray(n)||(n=[]),s.forEach(((e,t)=>{n[t]=i(n[t],e)}));else if("object"==typeof s){("object"!=typeof n||Array.isArray(n))&&(n={});for(const t of Object.keys(s))e||void 0!==n[t]?n[t]=i(n[t],s[t]):n[t]=s[t]}else"string"==typeof s&&"string"==typeof n?n+=t+s:n=s;return n};return n.reduce(((e,t)=>i(e,t)),{})},p.sortByKey=(e,t="order")=>{const n=Object.entries(e).filter((([,e])=>"number"==typeof e[t]&&e[t]>0)).sort((([,e],[,n])=>e[t]-n[t])),i={};for(const[e,t]of n)i[e]=t;return i},p.setValue=(e,t,n,i=".")=>{Array.isArray(t)||(t=i?t.split(i):[t]),t.reduce(((e,i,s)=>(s===t.length-1?e[i]=n:e[i]&&"object"==typeof e[i]||(e[i]={}),e[i])),e)},p.equal=(e,t)=>d.equal(e,t);const g=p;class f{}f.removeDuplicateLines=e=>{const t=e.split("\n");return Array.from(new Set(t)).join("\n")},f.ucfirst=e=>e?e.charAt(0).toUpperCase()+e.slice(1):e,f.ucwords=e=>e?e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "):e,f.kebabToCamel=(e,t=!1)=>e?e.split("-").map(((e,n)=>0!==n||t?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e.toLowerCase())).join(""):e,f.isJson=e=>{let t=!1;if(e){try{JSON.parse(e)}catch(e){t=!1}t=!0}return t},f.decodeHTML=e=>{var t;return null!==(t=(new DOMParser).parseFromString(e,"text/html").documentElement.textContent)&&void 0!==t?t:""};const m=f;class v extends HTMLElement{constructor(e={allowChildNodes:!1}){super(),this.observer=null,this.ingestOptions(e),this.crazy=new y(this.properties)}postRender(){}render(){let e="",t=this.crazy.getContent(),n=this.crazy.getStyle(),i=this.prepareCollectionForRender();if("function"==typeof t?e+=t(i).replace(/\s+/g," ").trim():"string"==typeof t&&t&&(e+=t.replace(/\s+/g," ").trim()),"function"==typeof n?n=n(i).replace(/\s+/g," ").trim():"string"==typeof n&&n&&(e+=n.replace(/\s+/g," ").trim()),this.options.allowChildNodes){var s;const t=(new DOMParser).parseFromString(e,"text/html");let n=t.body.children;if(n.length){for(var r=0;r<n.length;r++)s=Date.now(),n[r].setAttribute("component-id",s.toString());e=t.body.innerHTML}}return e}setDefaultProperties(e){this.crazy.setAttributes(e,!0)}setProperties(){var e;if(Object.keys(this.properties).length>0)for(let t in this.properties){let n=null!==(e=this.properties[t].value)&&void 0!==e?e:"";if(this.hasAttribute(t)){let e=this.getAttribute(t);null!==e&&typeof e===this.properties[t].type&&("select"in this.properties&&"object"==typeof this.properties.select&&null!==this.properties.select?e in this.properties.select&&(n=e):n=e)}this.crazy.setAttribute(t,n,this.properties)}}hasCurrentAttribute(e){return this.crazy.hasAttribute(e)}getCurrentAttribute(e){return this.crazy.getAttribute(e)}setHtmlAndCss(e,t){e&&this.crazy.setContent(e),t&&this.crazy.setStyle(t)}ingestOptions(e){this.options=e}prepareCollectionForRender(){let e={attributes:{},name:this.tagName.toLowerCase()},t=this.crazy.getAttributesName();if(t.length)for(let n of t)e.attributes[n]=this.crazy.getAttribute(n);return e}moveChildren(){var e=new MutationObserver((e=>{e.forEach((e=>{var t;if(e.addedNodes.length&&this.options.allowChildNodes){let e=this.querySelectorAll(":scope > :not([component-id])"),i=this.querySelector("slot");if(e.length&&null===i)for(var n=0;n<e.length;n++)e[n].remove();else if(e.length&&null!==i)for(n=0;n<e.length;n++)null===(t=i.parentNode)||void 0===t||t.insertBefore(e[n],i.previousSibling)}}))}));e.observe(this,{childList:!0})}connectedCallback(){this.moveChildren(),this.setProperties(),this.innerHTML=this.render(),this.postRender()}disconnectedCallback(){}attributeChangedCallback(e,t,n){n!=t&&this.isConnected&&(this.crazy.updateAttribute(e,n),this.innerHTML=this.render(),this.postRender())}adoptedCallback(){}}class y{constructor(e={}){this.attributesByDefault={},this.attributesCurrent={},this.attributeChangedCallback=(e,t,n)=>{this.updateAttribute(e,n)},this.properties=e}setAttributes(e,t=!1){if(Object.keys(e).length>0){for(let t in e)this.setAttribute(t,e[t]);t&&(this.attributesByDefault=e)}}setAttribute(e="",t="",n=null){if(!e)return;let i={name:e,value:"",type:"string"};if(n&&e in n){let s=n[e];"string"==s.type?i.value=!t&&s.value?s.value:t:"number"==s.type?i.value=!t&&s.value?s.value:"number"==typeof t?t:Number(t):"bool"!=s.type&&"boolean"!=s.type||(i.value=!t&&s.value?s.value:!("string"!=typeof t||!["true","1","TRUE"].includes(t)))}else if("string"==typeof t||"number"==typeof t?i.value=t:"boolean"==typeof t&&(i.value=t?"true":"false"),"object"==typeof t&&Object.keys(t).length>0)for(let e in t)if(e in i){let n=t[e];"boolean"==typeof n&&(n=n?"true":"false"),i[e]=n}this.attributesCurrent[e]=i}updateAttribute(e="",t=""){let n=!1,i=!1;return e&&e in this.attributesCurrent?("string"==typeof t?(["true","1","TRUE","false","0","FALSE"].includes(t)&&(i=!0),"boolean"===this.attributesCurrent[e].type&&i?(this.attributesCurrent[e].value=!!["true","1","TRUE"].includes(t),n=!0):"number"===this.attributesCurrent[e].type?(this.attributesCurrent[e].value=Number(t),n=!0):"string"===this.attributesCurrent[e].type&&(this.attributesCurrent[e].value=t,n=!0)):"boolean"==typeof t?"boolean"===this.attributesCurrent[e].type&&(this.attributesCurrent[e].value=!0===t?"true":"false",n=!0):"number"==typeof t?"number"===this.attributesCurrent[e].type?(this.attributesCurrent[e].value=t,n=!0):(this.attributesCurrent[e].value=t.toString(),n=!0):"object"==typeof t&&"value"in t&&"type"in t&&this.attributesCurrent[e].type==t.type&&("boolean"===t.type?(this.attributesCurrent[e].value="string"==typeof t.value&&["true","1","TRUE"].includes(t.value)||"boolean"==typeof t.value&&t.value?"true":"false",n=!0):"string"===t.type&&(this.attributesCurrent[e].value=t),n=!0),n):n}getAttributesName(){return Object.keys(this.attributesCurrent)}hasAttribute(e){let t=!0;return e&&e in this.attributesCurrent||(t=!1),t}getAttribute(e){let t=null;if(!e||!(e in this.attributesCurrent))return t;let n=this.attributesCurrent[e];return t="boolean"===n.type||"bool"===n.type?!!["true","1","TRUE"].includes(n.value):"number"===n.type?Number(n.value):n.value,t}setContent(e){"function"==typeof e?(this.htmlTemplate=e,this.htmlContent=null):"string"==typeof e&&(this.htmlContent=e,this.htmlTemplate=null)}getContent(){let e="";return null!==this.htmlTemplate?e=this.htmlTemplate:null!==this.htmlContent&&(e=this.htmlContent),e}setStyle(e){"object"==typeof e&&"default"in e?(this.cssContent=e.default.toString(),this.cssTemplate=null):"function"==typeof e?(this.cssTemplate=e,this.cssContent=null):"string"==typeof e&&(this.cssContent=e,this.cssTemplate=null)}getStyle(){let e="<style>";return null!==this.cssTemplate?e+=this.cssTemplate:null!==this.cssContent&&(e+=this.cssContent),"<style>"===e?e="":e+="</style>",e}}var b;class w{}b=w,w.isChrome=()=>-1!=navigator.userAgent.indexOf("Chrome"),w.isFirefox=()=>-1!=navigator.userAgent.indexOf("Firefox"),w.isOpera=()=>-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR")),w.isSafari=()=>-1!=navigator.userAgent.indexOf("Safari"),w.isIE=()=>-1!=navigator.userAgent.indexOf("MSIE")||"documentMode"in document&&1==!!document.documentMode,w.isEdge=()=>-1!=navigator.userAgent.indexOf("Edg"),w.isEdgeChromium=()=>b.isChrome()&&-1!=navigator.userAgent.indexOf("Edg"),w.isBlink=()=>(b.isChrome()||b.isOpera())&&!!window.CSS,w.get=()=>{let e="",t=Object.getOwnPropertyNames(b).filter((function(e){return e.startsWith("is")}));for(let n of t)if(b[n]()){e=n.substring(2).toLowerCase();break}if(!e)throw new Error("Navigator isn't implement in Crazy Php");return e};const _=w;class S extends Error{constructor(e){super(e)}}class A{constructor(){this._collection=[],this.add=(e,t=null)=>{if(!e)throw new S("Event must have a valid name");if(this.has(e))throw new S("The Event already exists");let n;n=null===t?new Event(e):new CustomEvent(e,{detail:t}),this._collection.push(n)},this.get=e=>{let t=null;if(e&&this._collection.length)for(let n of this._collection)if(n.type==e){t=n;break}return t},this.getAll=()=>this._collection,this.has=e=>{let t=!1;if(e&&this._collection.length)for(let n of this._collection)if(n.type==e){t=!0;break}return t},this.remove=e=>{let t=!1;if(e&&!this.has(e)||0===this._collection.length)t=!0;else if(e&&this._collection.length)for(let n in this._collection)if(this._collection[n].type==e){delete this._collection[n],t=!0;break}return t},this.dispatch=(e,t=document)=>{if(!e)return;let n;if("string"==typeof e&&(e=[e]),e.length)for(let i of e)n=this.get(i),null!==n&&t.dispatchEvent(n)}}}Error;var E=n(4539);class C{}C.load=(e,t="",n=!0,i="text/javascript",s="body")=>new Promise(((r,a)=>{try{if(null!==document.querySelector(`script#script-${t}`))r({status:!0});else{const o=document.createElement("script");o.type=i,o.async=n,o.src=e,t&&(o.id=`script-${t}`),o.addEventListener("load",(e=>{r({status:!0})})),o.addEventListener("error",(t=>{a({status:!1,message:`Failed to load the script ${e}`})})),document[s].appendChild(o)}}catch(e){a(e)}}));const T=C;var R=n(1647);class x{constructor(e){this.theme=null,this.setNewTheme=(e="#4caf50",t)=>{e&&(this.theme=(0,R.MK)((0,R.cd)(e),t))},this.getTheme=()=>this.theme,this.getThemeAsJson=()=>{let e="",t=this.getTheme();return t&&(e=JSON.stringify(t,null,2)),e},this.applyTheme=(e=document.body)=>{let t=!1;return this.theme&&((0,R.hC)(this.theme,{target:e,dark:"dark"==a.getTheme()}),t=!0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this._onColorModeChange),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",this._onColorModeChange),t},this._onColorModeChange=e=>{"matches"in e&&e.matches&&this.theme&&(0,R.hC)(this.theme,{target:document.body,dark:"dark"==a.getTheme()})},e&&this.setNewTheme(e)}}x.scanCrazyColor=e=>{let t=e.querySelectorAll("[data-crazy-color]");return t.length&&t.forEach((e=>{if(e instanceof HTMLElement){var t=e.dataset.crazyColor;t&&new x(t).applyTheme(e)}})),null};const D=x;class O{}O.set=(e="")=>{"string"==typeof e&&(e=new URL(e)),window.history.pushState({},"",e.toString())},O.get=(e=!1)=>{let t=window.location.href;if(e){const e=new URL(t);t=e.origin+e.pathname}return t},O.getQueryParameters=e=>{let t={};const n=new URLSearchParams(window.location.search);return e&&Array.isArray(e)?e.length&&n.forEach(((n,i)=>{e.includes(i)&&(t[i]=n)})):n.forEach(((e,n)=>{t[n]=e})),t},O.addQueryParameters=(e,t)=>{const n=new URLSearchParams(window.location.search);for(const[i,s]of Object.entries(e)){const e=t?`${t}[${i}]`:i;"object"==typeof s&&null!==s?O.addQueryParameters(s,e):"boolean"==typeof s?!e.includes("[]")&&n.has(e)?n.set(e,s?"true":"false"):n.append(e,s?"true":"false"):null===s||""===s?!e.includes("[]")&&n.has(e)?n.set(e,""):n.append(e,""):!e.includes("[]")&&n.has(e)?n.set(e,s):n.append(e,s)}const i=`${window.location.origin}${window.location.pathname}?${n.toString()}`;return O.set(i),i},O.removeQueryParameters=e=>{if(e&&e.length){"string"==typeof e&&(e=[e]);var t=new URLSearchParams(window.location.search);let n=!1;for(let i of e)t.has(i)&&(t.delete(i),n=!0);if(n){const e=`${window.location.pathname}?${t.toString()}`;window.history.pushState(null,"",e)}}},O.isSameDomain=e=>{let t=!1;if(!e)return t;try{const n=new URL(e);t=window.location.origin===n.origin}catch(e){t=!1}return t},O.toQueryString=(e,t="")=>{var n,i,s=[];for(var r in e)e.hasOwnProperty(r)&&(n=~r.indexOf("[")?t?t+"["+r.substring(0,r.indexOf("["))+"]"+r.substring(r.indexOf("[")):r:t?t+"["+r+"]":r,i=e[r],s.push("object"==typeof i?O.toQueryString(i,n):encodeURI(n)+"="+encodeURIComponent(i)));return s.join("&")};const L=O;class P{}P.id="crazy-root",P.getId=()=>{if(!P.id)throw new S("ID of the root is not set.");return P.id},P.getEl=()=>{const e=P.id;let t=document.getElementById(e);if(null===t)throw new S(`Element "#${e}" does not exist in the dom.`);return t},P.setContent=(e="")=>{let t=P.getEl(),n=document.createRange().createContextualFragment(e);return t.replaceWith(n),t};const j=P;var H=n(1924);class I{constructor(){this._eventRegister={},this.store=()=>this._store,this.data=(e,t)=>{let n=null;return"set"===I._trigger&&void 0!==t?this._store.setState((n=>this._setValueByKeyPath(n,e,t))):"get"===I._trigger?n=this._getValueByKeyPath(this._store.getState().data,e):"delete"===I._trigger&&this._store.setState((t=>this._removeValueByKeyPath(t,e))),n},this.page=(e,t)=>{var n;let i=null;if(e||(e=null===(n=window.Crazyobject.currentPage.get())||void 0===n?void 0:n.name),!e)return i;let s=`_page.${e}`;return"set"===I._trigger&&void 0!==t?this._store.setState((e=>this._setValueByKeyPath(e,s,t))):"get"===I._trigger?(t&&(s+=`.${t}`),i=this._getValueByKeyPath(this._store.getState(),s)):"delete"===I._trigger&&this._store.setState((e=>this._removeValueByKeyPath(e,s))),i},this.globalPartial=(e,t)=>{let n=null;if(!e)return n;let i=`_partial.${e}`;return"set"===I._trigger&&void 0!==t?this._store.setState((e=>this._setValueByKeyPath(e,i,t))):"get"===I._trigger?n=this._getValueByKeyPath(this._store.getState(),i):"delete"===I._trigger&&this._store.setState((e=>this._removeValueByKeyPath(e,i))),n},this.all=()=>{let e=null;return"set"===I._trigger?this._store.setState((e=>{})):"get"===I._trigger?e=this._store.getState():"delete"===I._trigger&&this._store.setState((e=>{})),e},this.method=(e,t)=>{let n=null;return"set"===I._trigger&&t?(this[e]=t.bind(this),this._dynamicMethods.add(e)):"get"===I._trigger?n=this[e]:"delete"===I._trigger&&delete this[e],n},this.reset=(e=!0)=>{this._store.setState((e=>{})),e&&(this._dynamicMethods.forEach((e=>{delete this[e]})),this._dynamicMethods.clear())},this.event=(e,t,n,i)=>{let s=null;if("set"===I._trigger){if(e&&t){let s=t;if((null==i?void 0:i.context)&&"page"===(null==i?void 0:i.context)&&(s=(e,n)=>{var s;let r=i.target?i.target:null===(s=window.Crazyobject.currentPage.get())||void 0===s?void 0:s.name;if(r){let i=this._getValueByKeyPath(e,`_page.${r}`),s=this._getValueByKeyPath(n,`_page.${r}`);t(i,s)}else t(e,n)}),e in this._eventRegister){this._store.destroy(),this._eventRegister[e]=n?{name:e,callback:s,selector:e=>this._getValueByKeyPath(e,n)}:{name:e,callback:s};for(let e in this._eventRegister)this._eventRegister[e].selector?this._store.subscribe(this._eventRegister[e].callback,this._eventRegister[e].selector):this._store.subscribe(this._eventRegister[e].callback)}else this._eventRegister[e]=n?{name:e,callback:s,selector:e=>this._getValueByKeyPath(e,n)}:{name:e,callback:s},n?this._store.subscribe(s,n):this._store.subscribe(s)}}else if("get"===I._trigger)e?e in this._eventRegister&&(s=this._eventRegister[e]):s=this._eventRegister;else if("delete"===I._trigger)if(e){if(e in this._eventRegister){this._store.destroy(),delete this._eventRegister[e];for(let e in this._eventRegister)this._eventRegister[e].selector?this._store.subscribe(this._eventRegister[e].callback,this._eventRegister[e].selector):this._store.subscribe(this._eventRegister[e].callback)}}else this._store.destroy(),this._eventRegister={};return s},this._getValueByKeyPath=(e,t,n=".")=>{const i=t.split(n||".");for(const t of i){if(null==e||"object"!=typeof e)return null;e=e[t]}return void 0!==e?e:null},this._setValueByKeyPath=(e,t,n,i=".")=>{const s=t.split(i),r=s.pop();if(!r)return e;let a=e;for(const e of s)null!=a[e]&&"object"==typeof a[e]||(a[e]=isNaN(Number(s[0]))?{}:[]),a=a[e];return a[r]=n,e},this._removeValueByKeyPath=(e,t,n=".")=>{const i=t.split(n),s=i.pop();if(!s)return!1;let r=e;for(const e of i){if(null==r||"object"!=typeof r)return!1;r=r[e]}if(r&&s in r){if(!Array.isArray(r))return delete r[s],e;{const t=parseInt(s,10);if(!isNaN(t)&&t>=0&&t<r.length)return r.splice(t,1),e}}return e},this._store=(0,H.y)({})}}I.defaultSchema={_page:{},_global:{},_partial:{}},I._instance=null,I._trigger="get",I.get=()=>(I._instance||(I._instance=new I,I._instance._store.setState((e=>I.defaultSchema))),I._trigger="get",I._instance),I.set=()=>(I._instance||(I._instance=new I,I._instance._store.setState((e=>I.defaultSchema))),I._trigger="set",I._instance),I.delete=()=>(I._instance||(I._instance=new I,I._instance._store.setState((e=>I.defaultSchema))),I._trigger="delete",I._instance);const M=I;var $;class k{constructor(e){return $.loadPageDetail(e).then($.loadPreAction).then($.loadUrl).then($.openNewTab).then($.loadScript).then($.updateUrl).then($.loadPageState).then($.updateTitle).then($.cleanPotentialExisitingPartials).then($.loadStyle).then($.loadContent).then($.registerInHistory).then((e=>{"loading"!==document.readyState?$.applyColorSchema(e).then($.scanPartials).then($.loadOnReadyScript).then($.loadPostAction).then($.setCurrentPage).catch($.catchError):document.addEventListener("DOMContentLoaded",(()=>{$.applyColorSchema(e).then($.scanPartials).then($.loadOnReadyScript).then($.loadPostAction).then($.setCurrentPage).catch($.catchError)}))})).catch($.catchError)}static catchError(e){console.error(e)}static setStatus(e,t,n){return"status"in e&&null!==e.status&&e.status||(e.status={}),e.status[t]=n,e}static resetOptions(e){return e=$.setStatus(e,"isCurrentPage",!1),e=$.setStatus(e,"hasState",!1),e=$.setStatus(e,"styleLoaded",!1),e=$.setStatus(e,"contentLoaded",!1),e=$.setStatus(e,"onReadyExecuted",!1),e=$.setStatus(e,"postActionExecuted",!1),$.setStatus(e,"urlUpdated",!1)}}$=k,k.loadPageDetail=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){let t=["isCurrentPage","hasState","scriptRegistered","urlLoaded","preActionExecuted","urlUpdated","titleUpdated","styleLoaded","contentLoaded","onReadyExecuted","historyRegistered","postActionExecuted","hasColor"];for(let n of t)void 0!==e.status&&null!==e.status&&n in e.status||(e=$.setStatus(e,n,!1));return e})),k.loadPreAction=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;return!0===(null===(t=e.status)||void 0===t?void 0:t.preActionExecuted)?e:("function"==typeof e.preAction&&(e=e.preAction(e)),e=$.setStatus(e,"preActionExecuted",!0))})),k.loadScript=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!1===(null===(t=e.status)||void 0===t?void 0:t.scriptRegistered)&&e.name){let t=window.Crazyobject.hash.get(),n=`/dist/page/app/${e.name}.${t}.js`,i=(yield T.load(n,e.name,!0),window.Crazyobject.registerPage.getRegistered(e.name?e.name:""));null!==i&&"classReference"in i&&"html"in(null==i?void 0:i.classReference)&&(null==i?void 0:i.classReference.html)&&(e.content=null==i?void 0:i.classReference.html),null!==i&&"classReference"in i&&"css"in(null==i?void 0:i.classReference)&&(null==i?void 0:i.classReference.css)&&"default"in(null==i?void 0:i.classReference.css)&&"string"==typeof(null==i?void 0:i.classReference.css.default)&&(e.style=null==i?void 0:i.classReference.css.default.toString().replace(/\r?\n|\r/g,"").replace(/\/\*[\s\S]*?\*\//g,"")),e.scriptLoaded=null==i?void 0:i.classReference,e=$.setStatus(e,"scriptRegistered",!0)}return e})),k.loadUrl=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.urlLoaded))return e.url||(e.url=new URL(L.get(!0))),e;if("url"in e&&null!==e.url)return e;let n={filters:{name:e.name},options:{}};"arguments"in e&&null!==e.arguments&&(n.options.arguments=e.arguments);let i=new V("/api/v2/Router/filter",{method:"GET",responseType:"json",from:"internal",ignoreHash:!0,cache:!1});return yield i.fetch(n).then((t=>{if(!(t&&"results"in t&&Array.isArray(t.results)&&1===t.results.length&&"name"in t.results[0]&&"path"in t.results[0]))throw new Error(`No page corresponding to "${e.name}" in the router collection`);e.url=t.results[0].path,"state"in t.results[0]&&Object.keys(t.results[0].state).length&&(e.state=t.results[0].state,$.setStatus(e,"hasState",!0))})),e=$.setStatus(e,"urlLoaded",!0)})),k.openNewTab=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if("openInNewTab"in e&&e.openInNewTab&&(null===(t=e.status)||void 0===t?void 0:t.urlLoaded)&&"url"in e&&"string"==typeof e.url&&e.url)throw window.open(e.url,"_blank"),"Page open in new tab.";return e})),k.loadPageState=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(e.url&&e.name){let n=new V(`${e.url}`,{method:"get",cache:!1,responseType:"json",from:"internal"}),i=e.url.href==L.get(!0)?L.getQueryParameters(null===(t=e.scriptLoaded)||void 0===t?void 0:t.queryParameters):{},s=yield n.fetch(Object.assign({catch_state:!0},i));M.set().page(e.name,s),e.status&&null===e.status&&(e.status={},e.status.hasState=!0)}return e})),k.updateUrl=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;return!0===(null===(t=e.status)||void 0===t?void 0:t.urlUpdated)||"url"in e&&null!==e.url&&L.set(e.url),e})),k.updateTitle=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.titleUpdated))return e;let n=e.name;return n&&(document.title=n),e})),k.cleanPotentialExisitingPartials=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){let t=window.Crazyobject.currentPage.get();if(t&&t.partials&&Array.isArray(t.partials)&&t.partials.length)for(let e of t.partials)e.scriptRunning&&e.scriptRunning.onDestroy();return e})),k.loadStyle=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.styleLoaded))return e;if("style"in e&&"string"==typeof e.style){let t=document.createElement("style");t.setAttribute("id",`style-${e.name}`),t.innerText=e.style,$.setStatus(e,"styleLoaded",!0),document.head.appendChild(t)}return e})),k.loadContent=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.contentLoaded))return e;if(e.name&&"content"in e&&"function"==typeof e.content){let t=M.get().page(e.name),n=e.content(t);j.setContent(n)}return e})),k.scanPartials=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.partialsScanned))return e;let n=window.Crazyobject.partials.scan("body");if(Object.keys(n).length){e.partials=n;for(let t in e.partials){let n=new e.partials[t].callable(Object.assign(Object.assign({},e.partials[t]),{page:e.scriptLoaded}));e.partials[t].scriptRunning=n}}return e=$.setStatus(e,"partialsScanned",!0)})),k.registerInHistory=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t,n;if(!0===(null===(t=e.status)||void 0===t?void 0:t.historyRegistered))return e;let i=e.url?null===(n=e.url)||void 0===n?void 0:n.toString():"";return window.Crazyobject.historyPage.register({href:i,loader:$.resetOptions(e),state:e.name?M.get().page(e.name):null}),e})),k.applyColorSchema=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t,n;let i=document;if(e.name){let s=M.get().page(e.name),r="object"==typeof s&&s?null===(n=null===(t=s._ui)||void 0===t?void 0:t.materialDynamicColors)||void 0===n?void 0:n.source:null,a=document.body;if("string"==typeof r&&r)a.dataset.crazyColor=r;else if("defaultColor"in a.dataset){let e=a.dataset.defaultColor;"string"==typeof e&&e&&(a.dataset.crazyColor=e)}let o=D.scanCrazyColor(i);(null==o?void 0:o.length)&&(e=$.setStatus(e,"hasColorApplied",!0))}return e})),k.loadOnReadyScript=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.onReadyExecuted))return e;if("scriptLoaded"in e&&e.scriptLoaded&&"constructor"in e.scriptLoaded){let t=new(0,e.scriptLoaded)(e);e.scriptRunning=t,e=$.setStatus(e,"onReadyExecuted",!0)}return e})),k.loadPostAction=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;return!0===(null===(t=e.status)||void 0===t?void 0:t.postActionExecuted)?e:("function"==typeof e.postAction&&(e=e.postAction(e)),e=$.setStatus(e,"postActionExecuted",!0))})),k.setCurrentPage=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;return!0===(null===(t=e.status)||void 0===t?void 0:t.onReadyExecuted)&&window.Crazyobject.currentPage.set(e),e}));const N=k;class z{constructor(e){this._events=[],this._ingestEvents=e=>{for(let t of e)this._events.push(t)},this._runEvents=()=>{if(this._events.length)for(let e of this._events)if("redirect"==e.type){this._runRedirection(e);break}},this._runRedirection=e=>{var t;let n={};if(e.name)n.name=e.name,"_blank"==e.target&&(n.openInNewTab=!0),null===(t=window.Crazyobject.state.globalStore)||void 0===t||t.iterate(((e,t)=>("object"==typeof n.arguments&&n.arguments||(n.arguments={}),n.arguments[t]=e,n))).then((e=>{new N(e)}));else if(e.url){let t=new URL(e.url);"_blank"==e.target?window.open(t):window.location.href=t.href}},e._events&&(this._ingestEvents(e._events),this._runEvents())}}var F=n(8838);class U{constructor(e="crazy-cache"){if(this.nameReserved=["dateCreated","dateUpdated","dateLoaded"],this.get=e=>(0,E.sH)(this,void 0,void 0,(function*(){var t;return null===(t=this.instance)||void 0===t?void 0:t.getItem(e)})),this.set=(e,t,n)=>(0,E.sH)(this,void 0,void 0,(function*(){var n;return null===(n=this.instance)||void 0===n?void 0:n.setItem(e,t)})),this.setDefaultProperties=()=>{let e=new Date;if(this.instance)for(let t of["dateCreated","dateUpdated","dateLoaded"])this.instance.getItem(t).then((n=>{var i;null!==n&&"dateLoaded"!=t||null===(i=this.instance)||void 0===i||i.setItem(t,e)})).catch((e=>{console.warn(e)}))},!e)throw new Error("Cache name can't be empty !");this.instance=F.createInstance({name:"crazy-"+e}),this.instance.ready().then((()=>{this.setDefaultProperties()})).catch((function(e){console.warn(e)}))}}var q=n(2618),B=n.n(q);class V{constructor(e,t={}){this.header=null,this.options={},this.defaultOptions={method:"get",header:{},cache:!1,responseType:"json",responseEncoding:"utf8",from:"internal",catchEvents:!0},this.getParameters="",this.fetch=(e=void 0)=>{this.lastResponse=void 0,this.lastResponseContentType=void 0,this.pushBodyInRequestOptions(e);let t=this.getUrl(!0),n=new Request(t,this.requestOptions),i=this.options.cache?this.getKey(n,e):null;if(i){let e=new U("request").get(i);if(null!==e)return e}return fetch(n).then((e=>{if(this.lastResponse=e,"internal"===this.options.from&&e.headers.get("Crazy-Hash")&&(!("ignoreHash"in this.options)||!0!==this.options.ignoreHash)){let t=e.headers.get("Crazy-Hash");t&&(this.lastResponseCrazyHash=t,window.Crazyobject.hash.set(t))}if(e.headers.has("Content-Type")){let t=e.headers.get("Content-Type");if(null!==t&&t.includes("application/json"))return this.lastResponseContentType=t,e.json()}return null})).then((e=>(this.options.catchEvents&&"object"==typeof e&&e&&"_events"in e&&Array.isArray(e._events)&&e._events.length&&new z(e),e)))},this.getJson=e=>{e.value=e.json()},this.getKey=(e,t)=>{let n,i={request:e,body:t};return i=JSON.parse(JSON.stringify(i)),n=B()(i),n},this.prepareGivenOptions=e=>{if(this.options=Object.assign({},this.defaultOptions),Object.keys(e).length>0)for(let t in e)this.options[t]=e[t]},this.prepareRequestOptions=()=>{void 0===this.requestOptions&&(this.requestOptions={}),this.requestOptions.method=this.options.method;let e=new Headers;if(void 0!==this.options.header&&Object.keys(this.options.header).length>0)for(let t of Object.keys(this.options.header))e.append(t,this.options.header[t]);this.requestOptions.headers=e,"internal"===this.options.from?(this.requestOptions.mode="same-origin",this.requestOptions.credentials="same-origin"):"external"===this.options.from&&(this.requestOptions.mode="no-cors"),0==this.options.cache&&(this.requestOptions.headers.set("Pragma","no-cache"),this.requestOptions.headers.set("Cache-Control","no-store")),this.requestOptions.headers.has("Accept")||"json"!==this.options.responseType||this.requestOptions.headers.set("Accept","application/json")},this.pushBodyInRequestOptions=e=>{var t,n,i;if(void 0===this.requestOptions)throw new Error("Request options have te be already set before push body content !");if(void 0!==this.requestOptions.body&&(this.requestOptions.body=""),void 0!==e)if(["GET","HEAD","get","head"].includes(null!==(t=this.requestOptions.method)&&void 0!==t?t:"get")){if("object"==typeof e){var s=V.toQueryString(e);this.getParameters?this.getParameters+=`&${s}`:this.getParameters=s}}else if(["POST","post"].includes(null!==(n=this.requestOptions.method)&&void 0!==n?n:"")){let t=null;e instanceof FormData?t=e:"object"==typeof e&&(t=JSON.stringify(e),this.requestOptions.headers instanceof Headers||(this.requestOptions.headers=new Headers),this.requestOptions.headers.set("Content-Type","application/json")),null!==t&&(this.requestOptions.body=t)}else if(["PUT","put"].includes(null!==(i=this.requestOptions.method)&&void 0!==i?i:"")){let t=null;e instanceof FormData&&(t=e),null!==t&&(this.requestOptions.body=t)}else{let t=null;Array.isArray(e)||"object"==typeof e?t=JSON.stringify(e):"string"==typeof e&&(t=e),null!==t&&(this.requestOptions.body=t)}},this.getUrl=(e=!1)=>this.getParameters&&e?`${this.url}?${this.getParameters}`:this.url,this.url=e,this.prepareGivenOptions(t),this.prepareRequestOptions()}static toQueryString(e,t=""){var n,i,s=[];for(var r in e)if(e.hasOwnProperty(r)){n=~r.indexOf("[")?t?t+"["+r.substring(0,r.indexOf("["))+"]"+r.substring(r.indexOf("[")):r:t?t+"["+r+"]":r;var a="object"==typeof(i=e[r])?V.toQueryString(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i);s.push(a)}return s.join("&")}}class Y{constructor(){this.routerAction=[],this.cacheInstance=null,this.currentPage=null,this.history=[],this.prepareCache=e=>{let t={};null!==e&&(t={header:{"If-Modified-Since":new Date(e).toUTCString()}});let n=new V("/api/v1/config/Router",t);n.fetch().then((e=>{var t,i,s,r,a,o;if(200===(null===(t=n.lastResponse)||void 0===t?void 0:t.status))return null===(i=this.cacheInstance)||void 0===i?void 0:i.set("app",e.results.config.Router.app);if(304===(null===(s=n.lastResponse)||void 0===s?void 0:s.status))return null===(r=this.cacheInstance)||void 0===r?void 0:r.get("app");throw new Error("Error when loading config router : "+(null===(a=n.lastResponse)||void 0===a?void 0:a.statusText)+"("+(null===(o=n.lastResponse)||void 0===o?void 0:o.status)+")")})).then((e=>{console.log("__value___"),console.log(e),this.customEvent=new CustomEvent("routerReady",{detail:e}),document.dispatchEvent(this.customEvent)}))},this.getCurrent=()=>Object,this.setCurrent=(e="")=>{},this.loadInternalPage=e=>{e.name&&e.name in this.routerAction?console.log("In the router action collection"):(console.log("Router action has to be loaded"),e.name&&G.loadAction(e.name).then((e=>{var t,n;if(!e.status)throw new Error("Failed to load action of page");return console.log("Refactor"),console.log(null===(t=this.cacheInstance)||void 0===t?void 0:t.get("app")),console.log("End Refactor"),null===(n=this.cacheInstance)||void 0===n?void 0:n.get("app")})).then((e=>{this.customEvent=new CustomEvent("routerReady",{detail:e}),document.dispatchEvent(this.customEvent)}))),L.set(e.path)},this.filterArrayByKeyValue=(e=[],t,n)=>e.filter((e=>e[t]==n)),this.cacheInstance=new U("router"),this.cacheInstance.get("dateUpdated").then(this.prepareCache)}register(e){let t=n=>{var i;if("detail"in n&&Array.isArray(n.detail)&&"className"in e&&"string"==typeof e.className)if(this.filterArrayByKeyValue(n.detail,"name",e.className).length&&(this.routerAction[e.className]={instance:e,file:"",date:new Date}),null===this.currentPage){let t=new e;this.currentPage=t;let n={instance:e,date:new Date};this.history.push(n)}else{let t=new e,n=document.querySelector("[specific-to-page]");if(null!==n&&n.remove(),null!==e.css&&"default"in e.css){let t=null===(i=e.css.default)||void 0===i?void 0:i.toString(),n=document.createElement("style");n.innerText=t||"",n.setAttribute("specific-to-page",e.className),document.head.appendChild(n)}if("function"==typeof e.html){let t=e.html(),n=(new DOMParser).parseFromString(t,"text/html"),i=document.getElementById("crazy-root"),s=n.getElementById("crazy-root");null!==i&&null!==s&&i.replaceWith(s)}this.currentPage=t}document.removeEventListener("routerReady",t)};document.addEventListener("routerReady",t)}redirect(e="/"){console.log(e),new V("/api/v2/Router/filter",{})}}Y.loadAction=(e,t=!0)=>{let n;if(window.Crazyobject.hash.isWatch())return window.Crazyobject.hash.setFromRequest().then((()=>{n=window.Crazyobject.hash.get();let i=`/dist/page/app/${e}.${n}.js`;return T.load(i,e,t)}));{if(n=window.Crazyobject.hash.get(),!n){let e=document.querySelector('meta[name="application-hash"]');if(null===e||!("content"in e)||!e.content)throw new Error("Hash is empty...");n=e.content}let i=`/dist/page/app/${e}.${n}.js`;return T.load(i,e,t)}};const K=Y;var J;class W{constructor(e=null){this.pageRegister=null,this.pageState=null,this.setCurrentPage=()=>{var e;(null===(e=this.options)||void 0===e?void 0:e.name)&&(this.pageState=M.get().page(this.options.name))},this.registerEvents=e=>{var t;if((null===(t=this.options)||void 0===t?void 0:t.name)&&this.statePageEvents&&this.statePageEvents.length)for(let e of this.statePageEvents)M.set().event(`${this.options.name}_${e.name}`,e.callback,`_page.${this.options.name}.${e.selector}`,{context:"page",target:this.options.name}),console.log(`${e.name} (${this.options.name}_${e.name}) registered`)},this.dispatchEvents=()=>{},this.dispatchEvent=(e,t)=>{},this.convertToUrl=(e="",t=window.location.href)=>{let n;return n=e.startsWith("/")?new URL(e,t):new URL(e),n},this.getAllPartials=()=>{var e,t;let n=[];return Array.isArray(null===(e=this.options)||void 0===e?void 0:e.partials)&&(n=null===(t=this.options)||void 0===t?void 0:t.partials),n},this.getPartial=(e,t=!1)=>{let n=null;if(e){let i=this.getAllPartials();t&&(i=i.reverse());let s=d.filterByKey(i,"name",e);Array.isArray(s)&&s.length&&(n=s.shift())}return n},this.getPartialById=e=>{let t=null;if(e){let n=this.getAllPartials(),i=d.filterByKey(n,"id",e);Array.isArray(i)&&i.length&&(t=i.shift())}return t},this.redirectTo=(e="",t=!1)=>{let n=this.convertToUrl(e),i=!1;return t?(window.location.assign(n),i):(null===this.pageRegister&&(this.pageRegister=new K),this.pageRegister.redirect(e),i)},this.redirectByName=(e,t,n=!1)=>{let i={filters:{name:e},options:{}};"arguments"in t&&null!==t.arguments&&(i.options.arguments=t.arguments),new V("/api/v2/Router/filter",{method:"GET",responseType:t.mimetype,from:"internal",ignoreHash:!0}).fetch(i).then((t=>{var n;if(!(t&&"results"in t&&Array.isArray(t.results)&&1===t.results.length&&"name"in t.results[0]&&"path"in t.results[0]))throw new Error(`No page corresponding to "${e}" in the router collection`);null===(n=window.Crazyobject.pages)||void 0===n||n.loadInternalPage(t.results[0])}))},this.getPageState=(...e)=>(0,E.sH)(this,[...e],void 0,(function*(e=!1){let t={};if(e||null===this.options||void 0===this.options.state){let e=L.get(!0);t=new V(`${e}?catch_state=true`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((e=>this.options&&this.options.status?(this.options.state=e,this.options.status.hasState=!0,this.options.state):e))}else t=this.options.state;return t})),this.options=e,this.setCurrentPage(),this.dispatchEvents()}}J=W,W.html=null,W.css=null,W.parameters=[],W.queryParameters=[],W.getClassName=()=>J.className,W.loadScript=(e,t=!0,n="text/javascript")=>new Promise(((i,s)=>{try{const r=document.createElement("script");r.type=n,r.async=t,r.src=e,r.addEventListener("load",(e=>{i({status:!0})})),r.addEventListener("error",(t=>{s({status:!1,message:`Failed to load the script ${e}`})})),document.body.appendChild(r)}catch(e){s(e)}})),W.loadAction=(e,t=!0)=>{let n="";"Crazyobject"in window&&"object"==typeof window.Crazyobject&&null!==window.Crazyobject?n=window.Crazyobject.getHash():new Error("Crazyobject isn't valid, can't retrieve the hash. Try to reload the page");let i=`/dist/page/app/${e}.${n}.js`;return J.loadScript(i,t)},W.loadPageState=(...e)=>(0,E.sH)(void 0,[...e],void 0,(function*(e="",t=!0){return e||(e=L.get(!0)),new V(`${e}?catch_state=true`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((e=>(t&&e&&Object.keys(e)&&M.set().page(e),e)))}));const G=W;var Q;class Z{constructor(e){return Q.loadPartialDetail(e).then(Q.loadPreAction).then(Q.loadScript).then(Q.loadContent).then(Q.pushToDomEl).then(Q.runScript).then(Q.loadPostAction).catch(Q.catchError)}static catchError(e){console.error(e)}static setStatus(e,t,n){return("object"!=typeof e||"status"in e)&&null!==e.status&&e.status||(e.status={}),e.status[t]=n,e}}Q=Z,Z.loadPartialDetail=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){let t=["hasState","scriptRegistered","preActionExecuted","contentLoaded","contentPushedToDom","postActionExecuted"];for(let n of t)void 0!==e.status&&null!==e.status&&n in e.status||(e=Q.setStatus(e,n,!1));return e})),Z.loadPreAction=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;return!0===(null===(t=e.status)||void 0===t?void 0:t.preActionExecuted)?e:("function"==typeof e.preAction&&(e=e.preAction(e)),e=Q.setStatus(e,"preActionExecuted",!0))})),Z.loadScript=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!1===(null===(t=e.status)||void 0===t?void 0:t.scriptRegistered)&&e.name){let t=window.Crazyobject.partials.get(e.name);null!==t&&(e.scriptLoaded=t,e=Q.setStatus(e,"scriptRegistered",!0))}return e})),Z.loadContent=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t,n,i;if(!0===(null===(t=e.status)||void 0===t?void 0:t.contentLoaded))return e;let s={};return(null===(n=e.status)||void 0===n?void 0:n.hasState)?s=e.state:e.scriptLoaded&&null!==e.scriptLoaded&&(s=yield G.loadPageState(),e.status&&null===e.status&&(e.status={},e.status.hasState=!0)),e.state=s,!0===(null===(i=e.status)||void 0===i?void 0:i.scriptRegistered)&&e.scriptLoaded&&(e.content=e.scriptLoaded.html,e=Q.setStatus(e,"contentLoaded",!0)),e})),Z.pushToDomEl=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;if(!0===(null===(t=e.status)||void 0===t?void 0:t.contentPushedToDom))return e;if(e.domTarget&&e.content){let t=document.querySelectorAll(e.domTarget);if(0==t.length)throw new Error(`Partial loader doesn't found into the dom element "${e.domTarget}"`);t.forEach((t=>{if("function"!=typeof e.content)throw new Error("Partial content isn't callable");{let n=(new DOMParser).parseFromString(e.content(e.state),"text/html");n.body.firstChild&&t.replaceWith(n.body.firstChild)}})),Q.setStatus(e,"contentPushedToDom",!0)}return e})),Z.runScript=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t,n;return!1===(null===(t=e.status)||void 0===t?void 0:t.contentPushedToDom)||!1===(null===(n=e.status)||void 0===n?void 0:n.scriptRegistered)||(e.scriptRunning=new e.scriptLoaded),e})),Z.loadPostAction=e=>(0,E.sH)(void 0,void 0,void 0,(function*(){var t;return!0===(null===(t=e.status)||void 0===t?void 0:t.postActionExecuted)?e:("function"==typeof e.postAction&&(e=e.postAction(e)),e=Q.setStatus(e,"postActionExecuted",!0))}));class X{static getNavigatorLanguage(e=!0){var t,n;let i=e?"en":"en-US",s="",r="",a=_.get();if(["firefox"].includes(a)){if(2===window.navigator.languages.length){let e=window.navigator.languages.at(0),t=window.navigator.languages.at(1);"string"==typeof e&&e&&(r=e),"string"==typeof t&&t&&(s=t)}}else["chrome"].includes(a)?(r=window.navigator.language,s=null!==(t=r.split("-").at(0))&&void 0!==t?t:""):"language"in window.navigator&&window.navigator.language?(r=window.navigator.language,s=null!==(n=r.split("-").at(0))&&void 0!==n?n:""):(r="en-US",s="en");return i=e?s:r,i}}class ee{constructor(){this.registered=[],this.register=e=>{if(0!==d.filterByKey(this.registered,"className",e.className).length);else{let t={className:e.className,classReference:e,dateLoaded:new Date,scriptUrl:new URL(`${window.location.origin}/dist/${e.className}.${window.Crazyobject.hash.get()}.js`)};this.registered.push(t)}window.Crazyobject.events.has("onFirstPageRegistered"),window.Crazyobject.events.dispatch("onFirstPageRegistered")},this.getRegistered=e=>{let t=null;if(e){let n=d.filterByKey(this.registered,"className",e);n.length>0&&(t=n[0])}return t},this.getAll=()=>this.registered}}class te{}te.dollar=e=>{let t=`${e}`;return e&&(t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)),t},te.pounds=e=>{let t=`${e}`;return e&&(t=Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)),t},te.rupee=e=>{let t=`${e}`;return e&&(t=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)),t},te.euro=e=>{let t=`${e}`;return e&&(t=Intl.NumberFormat("en-DE",{style:"currency",currency:"EUR"}).format(e)),t};class ne{constructor(e){this.isReloaded=!1,this.html=null,this.reload=(e=null)=>{if(this.input.target instanceof HTMLElement&&null!==this.html){var t="";"object"==typeof e&&"function"==typeof this.html&&(t=this.html("object"==typeof e?e:{}));var n=document.createRange().createContextualFragment(t);let i=n.querySelector("[partial]");i&&i.setAttribute("data-partial-id",this.input.id.toString());let s=this.input.target.parentElement;if(this.onDestroy(),this.input.target.replaceWith(n),s){let e=s.querySelector(`[data-partial-id="${this.input.id.toString()}"]`);e&&(this.input.target=e)}}this.isReloaded=!0,this.onReady()},this.onReady=()=>{},this.onDestroy=()=>{},this.enable=()=>{},this.disable=()=>{},this.onChange=(e,t)=>{},this.getCurrentPageName=()=>{let e="";return this.input.page&&(e=this.input.page.className),e},this.input=e,"number"==typeof this.input.id&&this.input.target instanceof HTMLElement&&(this.input.target.dataset.partialId=this.input.id.toString()),this.input.callable.html&&(this.html=this.input.callable.html)}}class ie extends HTMLElement{constructor(){super(),this.innerHtmlCallableFunction=null,this.attachShadowMode=()=>{var e;let t=null!==(e=this.shadowMode)&&void 0!==e?e:null;"open"===this.getAttribute("shadow")&&(t="open"),"closed"===this.getAttribute("shadow")&&(t="closed"),this.shadow=null!==t?this.attachShadow({mode:t}):null},this.setHtmlContent=e=>{e&&"string"==typeof e&&(null===this.shadowMode?this.innerHtmlContent=e:null!==this.shadowRoot?this.shadowRoot.innerHTML+=e:"function"==typeof e&&(this.innerHtmlCallableFunction=e))},this.appendHtmlNode=e=>{null===this.shadow?this.appendChild(e):this.shadow.appendChild(e)},this.setStyleContent=e=>{e&&(null===this.shadowRoot?this.innerHtmlContent+="<style>"+e.default.toString()+"</style>":null!==this.shadowRoot&&(this.shadowRoot.innerHTML+="<style>"+e.default.toString()+"</style>"))},this.setAttributes=e=>{if(null===e&&void 0!==this.attributesCollection&&(e=this.attributesCollection),null!==e&&Object.keys(e).length>0)for(let t in e){let n=e[t];"boolean"==typeof n?n=n?"true":"false":"object"==typeof n&&(n=JSON.stringify(n)),this.setAttribute(t,e[t])}},this.innerHTML=""}connectedCallback(){null!==this.innerHtmlCallableFunction&&(this.innerHTML=this.innerHtmlCallableFunction()),this.innerHtmlContent&&(this.innerHTML=this.innerHtmlContent)}static get observedAttributes(){return["name"]}attributeChangedCallback(e,t,n){console.log(e)}}ie.contentData=()=>{};class se{constructor(){if(this.current=null,this.get=()=>this.current,this.set=e=>{this.current=e},this.execute=()=>{if(null===this.current)throw new S("Pleae set a page before execute it");new N(this.current)},this.reload=()=>{},null===this.get())if(0===window.Crazyobject.registerPage.getAll().length){let e=t=>{let n=window.Crazyobject.registerPage.getAll().slice()[0],i={name:n.className,scriptLoaded:n.classReference,status:{scriptRegistered:!0,contentLoaded:!0,styleLoaded:!0,urlLoaded:!0,urlUpdated:!0}};new N(i),document.removeEventListener("onFirstPageRegistered",e)};document.addEventListener("onFirstPageRegistered",e)}else{let e=window.Crazyobject.registerPage.getAll()[0];new N({name:e.className,scriptLoaded:e,status:{scriptRegistered:!0,contentLoaded:!0,styleLoaded:!0,urlLoaded:!0,urlUpdated:!0}})}}}class re{constructor(){this._past=[],this._future=[],this._collection=[],this.register=e=>{var t;if(!e.href)return;!("state"in e)&&e.state&&(e.state=null);let n=d.filterByKey(this._collection,"href",e.href);n.length&&d.filterByKey(n,"state",null!==(t=e.state)&&void 0!==t?t:null).length||this._collection.push(e)},this.addToBack=e=>{},this.addToFoward=e=>{},this.getBack=()=>null,this.getForward=()=>null,this._popStateInit=()=>{window.addEventListener("popstate",this._popStateEvent)},this._popStateEvent=e=>{e.defaultPrevented;let t=window.location.href;d.filterByKey(this._collection,"href",t)},this._popStateInit(),this._currentHref=window.location.href}}class ae{static render(e){const t=e=>"string"==typeof e&&(e.includes(",")||e.includes("\n")||e.includes('"'))?`"${e.replace(/"/g,'""')}"`:e;return[Object.keys(e[0]).join(","),...e.map((e=>Object.values(e).map(t).join(",")))].join("\n")}}ae.download=(e,t)=>{let n=ae.render(e);const i=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),r=URL.createObjectURL(i);s.setAttribute("href",r),s.setAttribute("download",t),document.body.appendChild(s),s.click(),document.body.removeChild(s)};class oe{constructor(e){this.globalStore=null,this.systemStore=null,this.localStore=null,this.componentStore=null,this.databaseName="crazyFrontDatabase",this.globalStore=F.createInstance({name:this.databaseName,storeName:"globalStore",description:"Global state store"}),this.systemStore=F.createInstance({name:this.databaseName,storeName:"systemStore",description:"System state store"}),this.localStore=F.createInstance({name:this.databaseName,storeName:"localStore",description:"Local state store"}),this.componentStore=F.createInstance({name:this.databaseName,storeName:"componentStore",description:"Component state store"}),this.globalStore.ready().then((()=>this._setGlobalState(e))),this.systemStore.ready().then((()=>this._setSystemState()))}_setGlobalState(e){return(0,E.sH)(this,void 0,void 0,(function*(){if(e.globalStateCollection&&Object.keys(e.globalStateCollection).length)for(let t in e.globalStateCollection)yield this.setItemIfNot(t,e.globalStateCollection[t],this.globalStore)}))}_setSystemState(){return(0,E.sH)(this,void 0,void 0,(function*(){}))}setItemIfNot(e,t){return(0,E.sH)(this,arguments,void 0,(function*(e,t,n=this.globalStore){try{yield null==n?void 0:n.ready();return(yield null==n?void 0:n.getItem(e))||(yield null==n?void 0:n.setItem(e,t))}catch(e){throw console.error("Error in setItemIfNot:",e),e}}))}}class le{constructor(){this._collection={},this.register=(e=null)=>{if(e&&Object.keys(e).length)for(let t in e)e[t].prototype instanceof ne&&(this._collection[t]=e[t])},this.get=e=>{let t=null;return e&&Object.keys(this._collection).length&&e in this._collection&&(t=this._collection[e]),t},this.getAll=()=>this._collection,this.scan=e=>{let t,n,i,s=[],r=[];if(e instanceof Element)r.push(e);else if(Array.isArray(e)){if(e.length)for(let t of e)t instanceof Element&&r.push(t)}else if("string"==typeof e){let t=document.querySelectorAll(e);r=Array.from(t)}if(r.length)for(let e of r){let r=e.querySelectorAll("[partial]");r.length&&r.forEach((e=>{t=e.getAttribute("partial"),t&&(n=this.get(t)||window.Crazyobject.partials.get(t),n&&(i={name:t,target:e,callable:n,id:Date.now()+Math.floor(1e3*Math.random())},s.push(i)))}))}return s}}}class ue{constructor(e){this.registerGlobal=e=>{if(Object.keys(e).length>0)for(let t in e){let n=e[t];window.customElements.define(t,n)}},this.registerGlobal(e.globalComponentsCollection)}}class ce{constructor(){}}class de{constructor(e){if(this._drivers={},this.setDriver=(e,t)=>{var n=0==Object.keys(this._drivers).length;t&&(this._drivers[t]=new e,Object.defineProperty(this,t,{get:()=>this._drivers[t],set:()=>{}}),n&&(this._drivers.default=new e,Object.defineProperty(this,"default",{get:()=>this._drivers.default,set:()=>{}})))},this.getDriver=e=>e&&Object.keys(this._drivers).length&&e in this._drivers?this[e]:null,this.parseErrors=(e,t)=>{if(Array.isArray(e)||(e=[e]),e.length)for(let t of e)this[t.type&&t.type in this.type?t.type:"error"](t)},this.news=(e,t)=>{let n=t&&t.driver?t.driver:"default",i=this.getDriver(n);i?i.news(e,t):(null==t?void 0:t.postAction)&&(null==t||t.postAction())},this.info=(e,t)=>{let n=t&&t.driver?t.driver:"default",i=this.getDriver(n);i?i.info(e,t):(null==t?void 0:t.postAction)&&(null==t||t.postAction())},this.success=(e,t)=>{let n=t&&t.driver?t.driver:"default",i=this.getDriver(n);i?i.success(e,t):(null==t?void 0:t.postAction)&&(null==t||t.postAction())},this.warning=(e,t)=>{let n=t&&t.driver?t.driver:"default",i=this.getDriver(n);i?i.warning(e,t):(null==t?void 0:t.postAction)&&(null==t||t.postAction())},this.error=(e,t)=>{let n=t&&t.driver?t.driver:"default",i=this.getDriver(n);i?i.error(e,t):(null==t?void 0:t.postAction)&&(null==t||t.postAction())},this.type=["news","info","success","warning","error"],Object.keys(e).length)for(let t in e)this.setDriver(e[t],t)}}var he=n(3433);class pe{constructor(){this._previous=[],this._limit=50,this.set=e=>{let t={value:e,dateCreated:new Date,type:typeof e};this._previous.push(t),this._checkLimit()},this.get=(e=1)=>{let t;return e<=0&&(e=1),(e=e--)in this._previous.keys()&&(t=this._previous[e]),e},this.getAllPrevious=(e=null,t="newer")=>{let n=[];if(this._previous.length)for(let t of this._previous)e&&t.type!=e||n.push(t.value);return"older"==t&&n.reverse(),n},this.setLimit=(e=50)=>{e<0||(this._limit=e,this._checkLimit())},this.getLimit=()=>this._limit,this._checkLimit=()=>{this._previous.length>this._limit&&(this._previous=this._previous.slice(0,this._limit))}}}class ge{constructor(e=null){this._hash=null,this.get=()=>{let e;return this.isWatch()&&this.setFromRequest(),e=this._hash,e},this.set=e=>{let t=!1;return e&&(this._setIntoHistory(),this._hash=e,t=!0),t},this.setFromMetaTag=(e="application-hash")=>{let t=!1;if(e){const n=document.querySelector(`meta[name="${e}"]`);n instanceof HTMLMetaElement&&(t=this.set(n.content))}return t},this.setFromRequest=(...e)=>(0,E.sH)(this,[...e],void 0,(function*(e="/api/v2/Router/count"){if(e){let t=new V(e,{from:"internal",cache:!1});return yield t.fetch()}return null})),this.getAllFromHistory=()=>{let e=[];return null!==this._history&&(e=this._history.getAllPrevious()),e},this.isWatch=()=>{let e=!1;const t=document.querySelector('meta[name="application-watch"]');return t instanceof HTMLMetaElement&&t.content&&"true"==t.content&&(e=!0),e},this._getFromHistory=(e=1)=>{let t;if(e<=0)t=this._hash;else if(null!==this._history){let n=this._history.get(e);null!==n&&"string"!=typeof n||(t=n)}return t},this._setIntoHistory=()=>{let e=!0;return this._hash&&(null===this._history&&(this._history=new pe),e=this._history.set(this._hash)),e},e&&this.set(e),this._history=new pe}}class fe{constructor(e){this.forcedTheme=null,this.hashInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){if(this.hash=new ge,!this.hash.setFromMetaTag()&&null===(yield this.hash.setFromRequest()))throw new S("Can't retrieve the hash from back.");return e})),this.stateInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.state=new oe(e),e})),this.alertInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return e.glabalAlerts&&(this.alert=new de(e.glabalAlerts)),e})),this.partialsInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.partials=new le,this.partials.register(e.globalPartials),e})),this.historyPageInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.historyPage=new re,e})),this.registerPageInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.registerPage=new ee,window.Crazyobject.events.dispatch("onRegisterPageOpen"),e})),this.currentPageInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.currentPage=new se,e})),this.eventInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.events=new A,this.events.add("onRegisterPageOpen"),this.events.add("onFirstPageRegistered"),e})),this.consoleInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){return this.console=new ce,e})),this.websocketInit=e=>(0,E.sH)(this,void 0,void 0,(function*(){if(e.websocket){console.log(`[DEV] Weboscket init ${e.websocket}`);const t=new he.A(e.websocket);t.addEventListener("message",(e=>{console.log("Websocket | Message from server:",e.data)})),t.addEventListener("open",(()=>{t.send("Websocket | Hello Server!")})),t.addEventListener("error",(e=>{console.error("Websocket | WebSocket error:",e)}))}return e})),this.register=e=>{var t=n=>{this.registerPage.register(e),document.removeEventListener("onRegisterPageOpen",t)};void 0!==window.Crazyobject.registerPage&&"register"in window.Crazyobject.registerPage&&"function"==typeof window.Crazyobject.registerPage.register?this.registerPage.register(e):document.addEventListener("onRegisterPageOpen",t)},this.getRegisteredPage=e=>null,this.GLOBAL_VARIABLE="Crazyobject",this.components=new ue(e),e.forceTheme&&(this.forcedTheme=e.forceTheme),this.colorSchema=new a,this.hashInit(e).then(this.stateInit).then(this.alertInit).then(this.partialsInit).then(this.historyPageInit).then(this.eventInit).then(this.registerPageInit).then(this.currentPageInit).then(this.consoleInit).then(this.websocketInit)}}var me=n(176),ve=n.n(me),ye=n(3704),be=n.n(ye),we=n(7860),_e=n.n(we),Se=n(4983),Ae=n(7805),Ee=n(7383),Ce=n(8648),Te=n(128),Re=n(7443),xe=n.n(Re),De=n(4467),Oe=n.n(De);class Le{constructor(e,t={}){this._onChangeCallable=null,this._onChangeOptions={eventType:"change"},this.scan=()=>{let e=0,t=j.getEl();if(null===t)return e;let n=t.querySelectorAll("form.crazy-form");if(e=n.length,e>0)for(let e=0;e<n.length;e++)n[e].addEventListener("submit",this.eventOnSubmit);return e},this.setOnChange=(e,t)=>{this._onChangeOptions=Object.assign(Object.assign({},this._onChangeOptions),t),this._onChangeCallable=e},this.getForm=e=>{let t=null;if(e)return t;let n=document.querySelector(`form#${e}`);return null===n||(t=n),t},this.setValue=(e,t=null)=>{var n;let i,s,r=this._formEl.querySelectorAll("select[name], input[name]");if(r.length)for(let a=0;a<r.length;a++)"name"in r[a]&&""!==r[a].name&&(i=r[a].name,s=null!==(n=r[a].type)&&void 0!==n?n:"","type"in r[a].dataset&&r[a].dataset.type&&(s=r[a].dataset.type),Object.keys(e).includes(i)&&"function"==typeof this[`${s}Set`]&&this[`${s}Set`](r[a],e[i],t))},this.resetValue=(e=!1)=>{let t=this._formEl.querySelectorAll("select, input");if(t.length)for(let n=0;n<t.length;n++)if((t[n]instanceof HTMLSelectElement||t[n]instanceof HTMLInputElement)&&"name"in t[n]&&""!==t[n].name){let i=e?null:this._getDefaultOfInput(t[n]);if("tomselect"in t[n]){let e=t[n].tomselect;i?e.setValue(i):e.clear();continue}t[n].hasAttribute("value")&&(null===i?t[n].removeAttribute("value"):i&&(i instanceof Date?t[n]instanceof HTMLInputElement&&(t[n].valueAsDate=i):(t[n].setAttribute("value",i.toString()),t[n]instanceof HTMLInputElement&&(t[n].value=i.toString())))),t[n].hasAttribute("value_id")&&t[n].removeAttribute("value_id"),(t[n].hasAttribute("checked")||"checkbox"==t[n].type)&&(null===i?(t[n].removeAttribute("checked"),t[n].checked=!1):i&&t[n]instanceof HTMLInputElement&&(t[n].checked=i))}this._formEl.hasAttribute("value_id")&&this._formEl.removeAttribute("value")},this.getFormData=e=>{let t,n,i;if("string"==typeof e){if(t=this.getForm(e),null===t)throw new Error("Form do not exists")}else t=e;let s=new FormData,r=t.querySelectorAll("select[name], input[name]");if(r.length)for(let e=0;e<r.length;e++)if("mutliple"in r[0]&&"boolean"==typeof r[0].mutliple&&r[0].mutliple){if(i=this.extractKeyMultipleValue(r[e]),null!==i&&Array.isArray(i)&&i.length)for(let e of i)if(null!==e&&""!==e[0]){let t=e[0];s.append(t,e[1])}}else n=this.extractKeyValue(r[e]),null!==n&&""!==n[0]&&s.append(n[0],n[1]);return s},this.eventOnSubmit=e=>{if(e.preventDefault(),null===e.target)return;let t=e.target,n=this.getFormData(t),i=t.attributes.getNamedItem("entity"),s=t.attributes.getNamedItem("value_id"),r=t.attributes.getNamedItem("post");null!==i&&null!==s?(this.lock(),this._onSubmitUpdate(i.value,s.value,n).then((e=>{if(e&&"errors"in e&&window.Crazyobject.alert.parseErrors(e.errors,{postAction:()=>{throw""}}),!("results"in e))throw this.unlock(),"";return e})).then((e=>{this._options.onSubmitDone&&this._options.onSubmitDone(e,i.value,n),this.unlock()}))):null!==i?(this.lock(),this._onSubmitCreate(i.value,n).then((e=>{if("errors"in e&&Array.isArray(e.errors)&&e.errors.length&&window.Crazyobject.alert.parseErrors(e.errors,{postAction:()=>{throw""}}),!("results"in e))throw this.unlock(),"";return e})).then((e=>{"results"in e&&e.results.length&&this.setValue(e.results[0],e.results[0]._id),this._options.onSubmitDone&&this._options.onSubmitDone(e,i.value,n),this.unlock()}))):null!==r?(this.lock(),this._onSubmitSend(r.value,n,"post").then((e=>{if("errors"in e&&Array.isArray(e.errors)&&e.errors.length&&window.Crazyobject.alert.parseErrors(e.errors,{postAction:()=>{throw""}}),!("results"in e))throw this.unlock(),"";return e})).then((e=>{console.log("youyou"),console.log(e),this.unlock()}))):(this.lock(),this._options.onSubmitDone&&this._options.onSubmitDone({},"",n),this.unlock())},this.eventOnReset=e=>{if(e.preventDefault(),this.lock(),e.currentTarget instanceof HTMLFormElement){let t=e.currentTarget,n=t.attributes.getNamedItem("value_id"),i=t.attributes.getNamedItem("entity");n&&i?this._onSubmiDelete(i.value,n.value).then((e=>{})).then((e=>{this._initOnReady()})):(this.resetValue(),this.unlock())}},this._onSubmitCreate=(e,t)=>(0,E.sH)(this,void 0,void 0,(function*(){return this._options.onBeforeSubmit&&this._options.onBeforeSubmit(e,t),new V(`/api/v2/${e}/create`,{method:"POST",header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1}).fetch(t)})),this._onSubmitUpdate=(e,t,n)=>(0,E.sH)(this,void 0,void 0,(function*(){return this._options.onBeforeSubmit&&this._options.onBeforeSubmit(e,n),new V(`/api/v2/${e}/update/${t}`,{method:"PUT",header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1,responseType:"json"}).fetch(n)})),this._onSubmiDelete=(e,t)=>(0,E.sH)(this,void 0,void 0,(function*(){if(this._options.onBeforeSubmit){let n=new FormData;n.append("id",t),this._options.onBeforeSubmit(e,n)}return new V(`/api/v2/${e}/delete/${t}`,{method:"DELETE",header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1}).fetch()})),this._onSubmitSend=(e,t,...n)=>(0,E.sH)(this,[e,t,...n],void 0,(function*(e,t,n="get"){return new V(e,{method:n,header:{"Cache-Control":"no-cache, no-store, must-revalidate"},cache:!1}).fetch(t)})),this.lock=()=>{let e=this._formEl.querySelectorAll('select[name], input[name], button[type="submit"], button[type="reset"]');if(e.length)for(let t=0;t<e.length;t++)"INPUT"==e[t].tagName?e[t].setAttribute("readonly","loading"):"BUTTON"==e[t].tagName&&e[t].setAttribute("disabled","loading")},this.unlock=()=>{let e=this._formEl.querySelectorAll('select[name], input[name], button[type="submit"], button[type="reset"]');if(e.length)for(let t=0;t<e.length;t++)"INPUT"==e[t].tagName&&e[t].hasAttribute("readonly")&&"loading"==e[t].getAttribute("readonly")?e[t].removeAttribute("readonly"):("INPUT"==e[t].tagName&&e[t].hasAttribute("disabled")&&"loading"==e[t].getAttribute("disabled")||"BUTTON"==e[t].tagName&&e[t].hasAttribute("disabled")&&"loading"==e[t].getAttribute("disabled"))&&e[t].removeAttribute("disabled")},this._ingestForm=e=>(0,E.sH)(this,void 0,void 0,(function*(){let t;if("string"==typeof e){if(!e)throw new S("Form is not valid");if(t=j.getEl().querySelector(e),null===t)throw new S(`Form "#${e}" can't be found on the page`)}else{if("FORM"!==e.nodeName)throw new S("Element given in form instance is not a form node");t=e}this._formEl=t})),this._initForm=()=>(0,E.sH)(this,void 0,void 0,(function*(){let e=this._formEl.querySelectorAll("input, select");if(e.length)for(let t of Array.from(e))if(t instanceof HTMLInputElement||t instanceof HTMLSelectElement){t.classList.contains("validate")&&(yield this._initEventValidateOnInput(t,e)),1==t.required&&(yield this._initEventRequiredOnInput(t,e));let n="type"in t.dataset&&"string"==typeof t.dataset.type&&t.dataset.type?t.dataset.type:t.type;t.dataset.depends&&this._addDependencies(t,t.dataset.depends);let i=`_init${m.ucfirst(n.toLowerCase())}Input`;i in this?this[i](t):console.info(`Need to implement "${i}"`)}})),this._initOnReady=()=>(0,E.sH)(this,void 0,void 0,(function*(){let e=this._formEl.getAttribute("onready"),t=this._formEl.getAttribute("entity");if(t&&e&&/^last\/[0-9]+$/.test(e))new V(`/api/v2/${t}/${e}`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((e=>{"errors"in e&&Array.isArray(e.errors)&&e.errors.length&&alert("error"),this.unlock(),"results"in e&&e.results.length&&this.setValue(e.results[0],e.results[0]._id)}));else if(t&&e&&/^id\/[a-zA-Z0-9]+$/.test(e)){let n=e.replace("id/","");!this._formEl.hasAttribute("value_id")&&this._formEl.setAttribute("value_id",n.toString()),new V(`/api/v2/${t}/${n}`,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((e=>{"errors"in e&&Array.isArray(e.errors)&&e.errors.length&&alert("error"),this.unlock(),"results"in e&&e.results.length&&this.setValue(e.results[0],e.results[0]._id)}))}else this.unlock()})),this._initEventOnSubmit=()=>(0,E.sH)(this,void 0,void 0,(function*(){this._formEl.addEventListener("submit",this.eventOnSubmit)})),this._initEventOnReset=()=>(0,E.sH)(this,void 0,void 0,(function*(){this._formEl.addEventListener("reset",this.eventOnReset)})),this._initEventOnChange=()=>(0,E.sH)(this,void 0,void 0,(function*(){for(let e of["change","input"])this._formEl.addEventListener(e,(t=>{const n=t.currentTarget,i=t.target;this._onChangeCallable&&n&&i&&n instanceof HTMLFormElement&&(i instanceof HTMLInputElement||i instanceof HTMLSelectElement)&&this._onChangeOptions.eventType===e&&this._onChangeCallable({formEl:n,formData:this.getFormData(n),itemEl:i,type:e})}))})),this._initEventValidateOnInput=(e,t)=>(0,E.sH)(this,void 0,void 0,(function*(){e.addEventListener("invalid",(n=>{if(n.preventDefault(),n.target&&n.target instanceof HTMLElement&&n.target.closest("div.input-field")){let i=n.target.closest("div.input-field");null==i||i.classList.add("error");let s=null==i?void 0:i.querySelector("div.suffix");s&&s.classList.replace("suffix","suffix-hidden");let r=this._newSuffixErrorEl();e.before(r);let a=null==i?void 0:i.querySelector("span.supporting-text");a&&a.classList.replace("supporting-text","suffix-hidden");let o=this._newSupportingTextErrorEl(e,t);null==i||i.append(o)}}))})),this._initEventRequiredOnInput=(e,t)=>(0,E.sH)(this,void 0,void 0,(function*(){if(e instanceof HTMLInputElement){let t=e=>{e.preventDefault(),console.log(e)},n=null,i=500;e.addEventListener("keyup",(e=>{null!==n&&clearTimeout(n),n=setTimeout((()=>{t(e)}),i)}))}})),this.extractKeyValue=e=>{let t=null,n=null;return"type"in e&&e.type&&"string"==typeof e.type&&(n=e.type),"type"in e.dataset&&e.dataset.type&&"string"==typeof e.dataset.type&&(n=e.dataset.type),"string"==typeof n&&"function"==typeof this[`${n}Retrieve`]&&(t=this[`${n}Retrieve`](e)),t},this.extractKeyMultipleValue=(e,t=!1)=>{let n=null,i=null;return"type"in e&&e.type&&"string"==typeof e.type&&(i=e.type),"type"in e.dataset&&e.dataset.type&&"string"==typeof e.dataset.type&&(i=e.dataset.type),"string"==typeof i&&"function"==typeof this[`${i}RetrieveMultiple`]&&(n=this[`${i}RetrieveMultiple`](e)),n},this.textRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.textRetrieveMultiple=e=>{let t=null;return"value"in e&&"name"in e&&(t=[[e.name,e.value]]),t},this.checkboxRetrieve=e=>{let t=null;if("value"in e&&"name"in e&&e instanceof HTMLInputElement){let n="",i=e.name;n=e.checked?"true":"false",t=[i,n]}return t},this.checkboxRetrieveMultiple=e=>{let t=null;if("value"in e&&"name"in e&&e instanceof HTMLInputElement){let n="",i=e.name;n=e.checked?"true":"false",t=[[i,n]]}return t},this.selectRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.selectRetrieveMultiple=e=>{let t=null,n=[];if("value"in e&&"name"in e){let i=e.name;if("tomselect"in e&&e.tomselect instanceof Oe()){let t=e.tomselect.getValue();if("string"==typeof t&&(t=[t]),t.length)for(let e of t)null!==e&&n.push(e)}else if("M_Dropdown"in e&&e.M_Dropdown){let t=e.value;if(t){let e=t.split(", ");if(e.length)for(let t of e)null!==t&&n.push(t)}}else n=Array.isArray(e.value)?e.value:[e.value];if(n.length)for(let e of n)null!==e&&(null===t&&(t=[]),t.push([i,e]));t=[[i,n]]}return t},this.dateRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.dateRetrieveMultiple=e=>{let t=null;if("value"in e&&"name"in e){let n=e.name,i=e.value;if(e instanceof HTMLInputElement&&"datePicker"in e.dataset&&"easepick"==e.dataset.datePicker){let e=i.split(" - ");if(e.length)for(let i of e)null!==i&&(null===t&&(t=[]),t.push([n,i]))}else t=[[n,i]]}return t},this.numberRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.numberRetrieveMultiple=e=>{let t=null;return"value"in e&&"name"in e&&(t=[[e.name,e.value]]),t},this.emailRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.emailRetrieveMultiple=e=>{let t=null;return"value"in e&&"name"in e&&(t=[[e.name,e.value]]),t},this.colorRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.colorRetrieveMultiple=e=>{let t=null;return"value"in e&&"name"in e&&(t=[[e.name,e.value]]),t},this.passwordRetrieve=e=>{let t=null;return"value"in e&&"name"in e&&(t=[e.name,e.value]),t},this.passwordRetrieveMultiple=e=>{let t=null;return"value"in e&&"name"in e&&(t=[[e.name,e.value]]),t},this.fileRetrieve=e=>{var t,n;let i=null;if("name"in e&&e instanceof HTMLInputElement&&(null===(t=e.files)||void 0===t?void 0:t.length)){let t=e.name,n=e.files;i=[t,Array.from(n).at(0)]}else if(e.dataset.pondId&&e instanceof HTMLInputElement){let t=null===(n=e.closest("form"))||void 0===n?void 0:n.querySelector(`div#${e.dataset.pondId}`);if(t instanceof HTMLDivElement){let n=e.name,s=Te.find(t).getFiles();i=[n,s.length?s[0].file:""]}}return i},this.fileRetrieveMultiple=e=>{var t,n;let i=null;if("name"in e&&e instanceof HTMLInputElement&&(null===(t=e.files)||void 0===t?void 0:t.length)){let t=e.name,n=Array.from(e.files);if(n.length)for(let e of n)e instanceof File&&(null===i&&(i=[]),i.push([t,e]))}else if(e.dataset.pondId&&e instanceof HTMLInputElement){let t=null===(n=e.closest("form"))||void 0===n?void 0:n.querySelector(`div#${e.dataset.pondId}`);if(t instanceof HTMLDivElement){let n=e.name,s=Te.find(t).getFiles();if(s.length)for(let e of s)e instanceof File&&(null===i&&(i=[]),i.push([n,e]))}}return i},this.textSet=(e,t,n)=>{"INPUT"==e.tagName&&null!==t&&(e.setAttribute("value",t),"string"==typeof n?e.setAttribute("value_id",n):null!==n&&Object.keys(n).includes(e.name)?e.setAttribute("value_id",n[e.name]):n&&"object"==typeof n&&"$oid"in n&&e.setAttribute("value_id",n.$oid))},this.passwordSet=(e,t,n)=>{"INPUT"==e.tagName&&null!==t&&(e.setAttribute("value",t),this._setID(n,e))},this.colorSet=(e,t,n)=>{"INPUT"==e.tagName&&null!==t&&(e.setAttribute("value",t),e.dispatchEvent(new Event("change")),this._setID(n,e))},this.selectSet=(e,t,n)=>{["INPUT","SELECT"].includes(e.tagName)&&null!==t&&("tomselect"in e&&e.tomselect instanceof Oe()?(e.tomselect.setValue(t),this._setID(n,e)):(e.setAttribute("value",t),e.dispatchEvent(new Event("change")),this._setID(n,e)))},this.numberSet=(e,t,n)=>{["INPUT","SELECT"].includes(e.tagName)&&null!==t&&(e.setAttribute("value",t),e.dispatchEvent(new Event("change")),this._setID(n,e))},this._getDefaultOfInput=e=>{let t=null,n=e.type;"type"in e.dataset&&e.dataset.type&&(n=e.dataset.type);let i=e.name,s=i&&"[]"==i.slice(-2);if(e instanceof HTMLInputElement){if(e.hasAttribute("default")&&"string"==typeof e.getAttribute("default"))if(t=e.getAttribute("default"),s||"checkbox"!=n){if(!s&&["range","number"].includes(n))t=Number(t);else if(!s&&["date"].includes(n))t=new Date(t);else if("radio"===n){let n=e.closest(`[data-radio-name="${i.replace("[]","")}"]`);if(n){let e=n.querySelectorAll(`input[name="${i}"]`);(null==e?void 0:e.length)&&e.forEach((e=>{e instanceof HTMLInputElement&&e.hasAttribute("default")&&e.hasAttribute("value")&&(s?(Array.isArray(t)||(t=[]),t.push(e.value)):t=e.value)}))}}else if(!s&&["date"].includes(n))t=new Date(t);else if("select"===n){let n=e.querySelectorAll("option");(null==n?void 0:n.length)&&n.forEach((e=>{e instanceof HTMLOptionElement&&e.hasAttribute("default")&&e.hasAttribute("value")&&(s?(Array.isArray(t)||(t=[]),t.push(e.value)):t=e.value)})),m.isJson(t)&&(t=JSON.parse(t))}}else t=!!["1","true","on","yes"].includes(t)}else if(e instanceof HTMLSelectElement&&["select","select-multiple","select-one"].includes(n))if(e.hasAttribute("default"))t=e.getAttribute("default");else if(e.querySelectorAll("option").length){let n=e.querySelectorAll("option"),i=null;(null==n?void 0:n.length)&&n.forEach((e=>{e instanceof HTMLOptionElement&&e.hasAttribute("default")&&e.hasAttribute("value")?s?(Array.isArray(t)||(t=[]),t.push(e.value)):t=e.value:!e.hasAttribute("value")&&e.innerText&&null===i&&(i=e.innerText)})),t&&null!==t||(t=i)}return t},this._initColorInput=e=>{if(e instanceof HTMLInputElement&&"colorPicker"in e.dataset&&"pickr"==e.dataset.colorPicker){let i=document.createElement("div");e.after(i),e.classList.add("hide");let s={el:i,theme:"colorTheme"in e.dataset&&["classic","monolith","nano"].includes(e.dataset.colorTheme)?e.dataset.colorTheme:"classic",lockOpacity:!(!("colorOpacity"in e.dataset)||!["false","0","","null"].includes(e.dataset.colorOpacity)),swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!0,hsva:!0,cmyk:!0,input:!0,clear:!0,save:!0}}};if(e.hasAttribute("value")){var t=e.getAttribute("value");if(t&&"randomHex()"!=t)s.default=t;else if(e.hasAttribute("default")){var n=e.getAttribute("default");if("randomHex()"===n){const e=Math.floor(16777216*Math.random());s.default=`#${e.toString(16).padStart(6,"0")}`}else n&&(s.default=n)}}const r=xe().create(s);r.on("save",((t,n)=>{let i=t.toHEXA();e.value=i,n.hide()})),e.addEventListener("change",(e=>{let t=e.currentTarget;if(t instanceof HTMLInputElement){let e=t.value;r.setColor(e)}}))}},this._initNumberInput=e=>{var t,n,i;let s={mask:Number,skipInvalid:!0,thousandsSeparator:" ",radix:".",mapToRadix:[","],autofix:!0};e.hasAttribute("max")&&e.getAttribute("max")&&(s.max=Number(e.getAttribute("max"))),e.hasAttribute("min")&&e.getAttribute("min")&&(s.min=Number(e.getAttribute("min"))),e.hasAttribute("step")&&(null===(t=e.getAttribute("step"))||void 0===t?void 0:t.includes("."))&&(s.scale=null===(i=null===(n=e.getAttribute("step"))||void 0===n?void 0:n.split(".").at(-1))||void 0===i?void 0:i.length),(0,Se.Ay)(e,s)},this._initDateInput=e=>{var t;if(e instanceof HTMLInputElement&&"datePicker"in e.dataset&&"easepick"==e.dataset.datePicker){let n={element:e,css:["https://cdn.jsdelivr.net/npm/@easepick/bundle@1.2.1/dist/index.css"],zIndex:1,plugins:[Ae.Q],AmpPlugin:{dropdown:{months:!0,years:!0}}};"dateFormat"in e.dataset&&e.dataset.dateFormat&&(n.format=e.dataset.dateFormat),"dateLang"in e.dataset&&e.dataset.dateLang&&(n.lang=e.dataset.dateLang),!e.required&&n.AmpPlugin&&(n.AmpPlugin.resetButton=!0),e.multiple&&(null===(t=n.plugins)||void 0===t||t.push(Ee.fd),n.RangePlugin={repick:!0}),new Ee.iT.create(n)}},this._initPasswordInput=e=>{if(e instanceof HTMLInputElement&&e.dataset&&"passwordVisible"in e.dataset&&e.parentNode){let t=e.dataset.passwordVisible,n=e.parentNode.querySelector("div.suffix");"string"==typeof t&&n&&n.addEventListener("click",(t=>{let i=e.dataset.passwordVisible;if(t.currentTarget&&t.currentTarget instanceof HTMLDivElement){e.type="0"==i?"text":"password";let t=n&&n.querySelector("i");t&&t instanceof HTMLElement&&(t.innerHTML="0"==i?"visibility_off":"visibility"),e.dataset.passwordVisible="0"==i?"1":"0"}}),!0)}},this._initSelectInput=e=>{if(e instanceof HTMLInputElement||e instanceof HTMLSelectElement){let t={persist:!1,createOnBlur:!0,create:!1,dropdownParent:"body",plugins:{}};e.dataset&&"selectClear"in e.dataset&&(t.plugins.clear_button={title:e.dataset.selectClear}),(e.dataset&&"selectTag"in e.dataset||"multiple"in e&&e.multiple)&&(t.plugins.caret_position={},t.plugins.drag_drop={});let n=null;if(e.dataset&&"selectRemote"in e.dataset&&e.dataset.selectRemote&&m.isJson(e.dataset.selectRemote)){let s=JSON.parse(e.dataset.selectRemote);t.valueField=s.value,s.label.includes("{{")&&s.label.includes("}}")?t.render={option:(e,t)=>`<div>${s.label.replace(/\{\{(.*?)\}\}/g,((n,i)=>t(e[i])))}</div>`,item:(e,t)=>`<div>${s.label.replace(/\{\{(.*?)\}\}/g,((n,i)=>t(e[i])))}</div>`}:t.labelField=s.label,t.searchField=s.search,t.load=(e,t)=>{new V(s.url,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((e=>{if("string"==typeof s.dataKey&&s.dataKey&&(e.results=s.dataKey.split(".").reduce(((e,t)=>e&&e[t]),e.results)),"results"in e&&Array.isArray(e.results)&&e.results.length)for(let t in e.results)e.results[t]=g.flatten(e.results[t],"",".");t(e.results)}))},n=()=>{new V(s.url,{method:"get",cache:!1,responseType:"json",from:"internal"}).fetch().then((e=>{if("string"==typeof s.dataKey&&s.dataKey&&(e.results=s.dataKey.split(".").reduce(((e,t)=>e&&e[t]),e.results)),"results"in e&&Array.isArray(e.results)&&e.results.length)for(let t in e.results)e.results[t]=g.flatten(e.results[t],"",".");i.addOptions(e.results)})).then((()=>{if(e.hasAttribute("default")){let t=e.getAttribute("default");"string"==typeof t&&i.setValue(t)}}))}}let i=new(Oe())(e,t);null!==n&&"function"==typeof n&&n()}},this._initFileInput=e=>{if(e instanceof HTMLInputElement&&e.classList.contains("filepond")){"string"==typeof e.dataset.filePreview&&Te.registerPlugin(_e()),Te.registerPlugin(ve());let t={oninit:()=>{if(n.element){n.element.classList.add("mb-0","mt-6");let e=n.element.querySelectorAll(".filepond--credits");null==e||e.forEach((e=>e.remove()));let t=n.element.querySelector("input[name]");t instanceof HTMLInputElement&&(n.id&&(t.dataset.pondId=n.id),t.dataset.type="file")}}};"string"==typeof e.dataset.maxFiles&&(t.maxFiles=Number(e.dataset.maxFiles)),e.multiple&&(t.allowReorder=!0),e.accept&&Te.registerPlugin(be()),"string"==typeof e.dataset.fileLocale&&["fr-fr","fr_FR"].includes(e.dataset.fileLocale)&&(t=Object.assign(Object.assign({},t),Ce.A));let n=Te.create(e,t);n.on("updatefiles",(()=>{var e;let t=null===(e=n.element)||void 0===e?void 0:e.querySelector("input[name]");t instanceof HTMLInputElement&&(n.id&&(t.dataset.pondId=n.id),t.dataset.type="file")}))}},this._addDependencies=(e,t)=>{if("string"==typeof t&&(t=t.split(",")),(t=[...new Set(t)]).length){let n=e.dataset.type?e.dataset.type:e.type;if(n)for(let i of t){let t=i?this._formEl.querySelector(`input[name="${i}"], select[name="${i}"`):null;if(t){let i=t.dataset.type?t.dataset.type:t.type;if(i&&"function"==typeof this[`${i}Retrieve`]){let s=this[`${i}Retrieve`];t.addEventListener("change",(t=>{let i=t.currentTarget;if(i instanceof HTMLSelectElement||i instanceof HTMLInputElement){let t=s(i);if(e.disabled&&e.hasAttribute("disabled")&&"depends"!=e.getAttribute("disabled"))return;if(null===t)return void(e.disabled&&(e.disabled=!1,e.removeAttribute("disabled")));2!==t.length||"checkbox"===n&&0==l.check(t[1])?(e.disabled=!0,e.setAttribute("disabled","depends"),e instanceof HTMLInputElement&&"checkbox"===n&&(e.checked=!1)):e.disabled=!1}}))}}}}},this._newSuffixErrorEl=(e="material-icons",t="error")=>{let n=document.createElement("i");n.classList.add(e||"material-icons"),n.innerText=t||"error";let i=document.createElement("div");return i.classList.add("suffix"),i.appendChild(n),i},this._newSupportingTextErrorEl=(e,t)=>{let n=document.createElement("span");return n.classList.add("supporting-text"),n.innerText=e.dataset&&"error"in e.dataset&&e.dataset.error?e.dataset.error:"Invalid entry",n},this._options=t,this._ingestForm(e).then(this._initForm).then(this._initOnReady).then(this._initEventOnSubmit).then(this._initEventOnReset).then(this._initEventOnChange)}_setID(e,t){let n,i=[];"string"==typeof e?t.setAttribute("value_id",e):null!==e&&Object.keys(e).includes(t.name)?t.setAttribute("value_id",e[t.name]):e&&"object"==typeof e&&"$oid"in e&&t.setAttribute("value_id",e.$oid);let s=this._formEl.querySelectorAll("select, input");for(let e=0;e<s.length;e++){if(n=s[e].getAttribute("value_id"),null===n)return;i.includes(n)||i.push(n)}if(!(i.length>1)){for(let e=0;e<s.length;e++)s[e].removeAttribute("value_id");this._formEl.setAttribute("value_id",i.pop())}}}Le.isHTMLFormElement=e=>e instanceof HTMLFormElement;const Pe=Le}},e=>{e.O(0,[96],(()=>e(e.s=2196))),e.O()}]);